(self.webpackChunkgrafana_metricsdrilldown_app=self.webpackChunkgrafana_metricsdrilldown_app||[]).push([[494],{219:(e,t,n)=>{(()=>{"use strict";var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};function a(e){let t=5381;for(let n=0;n<e.length;n++)t=(t<<5)+t+e.charCodeAt(n);return(t>>>0).toString(16)}t.r(r),t.d(r,{AITextArea:()=>Rt,AITextInput:()=>Pt,ASSISTANT_PLUGIN_ID:()=>j,ASSISTANT_PLUGIN_TITLE:()=>W,CALLBACK_EXTENSION_POINT:()=>F,ComponentNodeData:()=>E,DashboardNodeData:()=>C,DatasourceNodeData:()=>I,EntityNodeData:()=>N,FolderNodeData:()=>S,LabelNameNodeData:()=>L,LabelValueNodeData:()=>T,OpenAssistantButton:()=>wt,StructuredNodeData:()=>o,closeAssistant:()=>X,createAssistantContextItem:()=>U,ensureInlineAssistantInitialized:()=>It,getExposeAssistantFunctionsConfig:()=>z,getInlineAssistantFactory:()=>Nt,isAssistantAvailable:()=>q,newFunctionNamespace:()=>G,openAssistant:()=>J,provideComponents:()=>$,providePageContext:()=>b,provideQuestions:()=>R,setInlineAssistantFactory:()=>Ct,setInlineAssistantInitializer:()=>St,toggleAssistant:()=>Z,useAssistant:()=>Y,useInlineAssistant:()=>Lt,usePageComponents:()=>A,usePageContext:()=>w,useProvidePageContext:()=>y,useProvideQuestions:()=>O,useQuestions:()=>M});class i{constructor(e){this.params=e,this.text="",this.id=a(e.id),this.type=e.type}formatForLLM(e){var t,n;return{type:this.type,codeElementIds:e,data:{name:null!==(t=this.params.text)&&void 0!==t?t:"",text:null!==(n=this.params.text)&&void 0!==n?n:""}}}equals(e){return e instanceof i&&this.id===e.id&&this.type===e.type}}class o extends i{constructor(e){super({...e,id:a(JSON.stringify(e.data)),type:"structured"}),this.data=e.data}formatForLLM(e){return{type:this.type,codeElementIds:e,data:this.data}}}const s=n(8531),c=n(5959);var l=t.n(c);const u="__grafanaAssistantPageContextRegistry__",d="grafana-assistant:page-context-registry-changed",p="grafana-assistant:page-context-update",f="grafana-assistant:page-context-remove",m="grafana-assistant:page-context-sync";function h(){return window[u]}function g(e,t=!1){window[u]=e,window.dispatchEvent(new CustomEvent(d)),t||window.dispatchEvent(new CustomEvent(m,{detail:{registry:e}}))}window[u]||(window[u]=[]);let v=!1;function b(e,t){const n={id:x(),urlPattern:e,context:[...t]};g([...h(),n]),window.dispatchEvent(new CustomEvent(p,{detail:n}));const r=e=>{const t=h(),r=t.findIndex(e=>e.id===n.id);if(-1!==r){const n=[...t];n[r]={...n[r],context:[...e]},g(n),window.dispatchEvent(new CustomEvent(p,{detail:n[r]}))}};return r.unregister=()=>{const e=h(),t=e.findIndex(e=>e.id===n.id);-1!==t&&(g(e.filter((e,n)=>n!==t)),window.dispatchEvent(new CustomEvent(f,{detail:{id:n.id}})))},r}function y(e,t=[]){const n=(0,c.useRef)(void 0),r=(0,c.useRef)(t);return r.current=t,(0,c.useEffect)(()=>(n.current=b(e,r.current),()=>{var e;null===(e=n.current)||void 0===e||e.unregister()}),[e]),(0,c.useEffect)(()=>{n.current&&n.current(t)},[t]),(0,c.useCallback)(e=>{var t;null===(t=n.current)||void 0===t||t.call(n,e)},[])}function w(e={allowQuestions:!1,allowComponents:!1}){const[t,n]=(0,c.useState)([]),r=(0,s.useLocationService)(),a=(0,c.useRef)("");(0,c.useEffect)(()=>{const e=()=>{const e=function(e){if(!e)return[];const t=[],n=h();for(const r of n)k(e,r.urlPattern)&&t.push(...r.context);return t}(r.getLocation().pathname);n(e)},t=()=>{e()},i=r.getLocationObservable().subscribe(t=>{const n=t.pathname;n!==a.current&&(a.current=n,e())});return window.addEventListener(d,t),window.addEventListener(p,t),window.addEventListener(f,t),window.addEventListener(m,t),e(),()=>{i.unsubscribe(),window.removeEventListener(d,t),window.removeEventListener(p,t),window.removeEventListener(f,t),window.removeEventListener(m,t)}},[r]);let i=t;return e.allowQuestions||(i=i.filter(e=>{var t;return"question"!==(null===(t=e.node.data)||void 0===t?void 0:t.type)})),e.allowComponents||(i=i.filter(e=>{var t;return"component"!==(null===(t=e.node.data)||void 0===t?void 0:t.type)})),i}function x(e="page-context"){return`${e}-${Date.now()}-${Math.random().toString(36).slice(2,11)}`}function k(e,t){if(t instanceof RegExp)return t.test(e);if("string"==typeof t){const n=t.replace(/\*\*/g,"\0DOUBLE_STAR\0").replace(/\*/g,"[^/]*").replace(/\u0000DOUBLE_STAR\u0000/g,".*").replace(/\?/g,".");return new RegExp(`^${n}$`).test(e)}return!1}v||(v=!0,window.addEventListener(p,e=>{const t=e.detail;if(!t||!t.id)return;const n=h(),r=n.findIndex(e=>e.id===t.id);if(-1!==r){const e=[...n];e[r]=t,g(e,!0)}else g([...n,t],!0)}),window.addEventListener(f,e=>{var t;const n=null===(t=e.detail)||void 0===t?void 0:t.id;if(!n)return;const r=h(),a=r.findIndex(e=>e.id===n);-1!==a&&g(r.filter((e,t)=>t!==a),!0)}),window.addEventListener(m,e=>{var t;const n=null===(t=e.detail)||void 0===t?void 0:t.registry;if(!Array.isArray(n))return;const r=h(),a=new Set(r.map(e=>e.id)),i=n.filter(e=>!a.has(e.id));i.length>0&&g([...r,...i],!0)}));class E extends i{constructor(e){const t=e.namespace||"components";super({...e,id:`${t}-${Object.keys(e.components).join("-")}`,type:"component"}),this.components=e.components,this.prompt=e.prompt,this.namespace=t}formatForLLM(e){return{type:this.type,codeElementIds:e,data:{name:`${this.namespace} components`,prompt:this.prompt,namespace:this.namespace}}}}function A(){const e=w({allowComponents:!0,allowQuestions:!1});return(0,c.useMemo)(()=>{const t={};return e.filter(e=>{var t;return null===(t=e.node.data)||void 0===t?void 0:t.components}).forEach(e=>{const n=e.node.data;if((null==n?void 0:n.components)&&Object.keys(n.components).length>0){const e=n.namespace||n.name||"components";Object.entries(n.components).forEach(([n,r])=>{t[`${e}_${n}`]=r})}}),t},[e])}function $(e,t,n,r=/.*/){if((a=r)instanceof RegExp?".*"===a.source&&""===a.flags:".*"===a||"/.*/"===a){const r=b(/.*/,[U("component",{components:n,prompt:e,namespace:t})]),a=(e,n)=>{r([U("component",{components:e,prompt:n,namespace:t})])};return a.unregister=r.unregister,a}var a;const i=b(/.*/,[U("component",{components:n,prompt:"",namespace:t})]),o=b(r,[U("component",{components:{},prompt:e,namespace:t})]),s=(e,n)=>{i([U("component",{components:e,prompt:"",namespace:t})]),o([U("component",{components:{},prompt:n,namespace:t})])};return s.unregister=()=>{i.unregister(),o.unregister()},s}class C extends i{constructor(e){super({...e,id:e.dashboardUid,type:"dashboard"}),this.dashboardUid=e.dashboardUid,this.dashboardTitle=e.dashboardTitle,this.folderUid=e.folderUid,this.folderTitle=e.folderTitle,this.text=e.dashboardTitle}formatForLLM(e){return{type:this.type,codeElementIds:e,data:{name:this.dashboardTitle,dashboardUid:this.dashboardUid,dashboardTitle:this.dashboardTitle,folderUid:this.folderUid,folderTitle:this.folderTitle,text:this.text}}}}class S extends i{constructor(e){super({...e,id:e.folderUid,type:"dashboard_folder"}),this.text="",this.folderUid=e.folderUid,this.folderTitle=e.folderTitle,this.text=e.folderTitle}formatForLLM(e){return{type:this.type,codeElementIds:e,data:{name:this.folderTitle,folderUid:this.folderUid,folderTitle:this.folderTitle,text:this.text}}}}class I extends i{constructor(e){super({...e,id:e.datasourceUid,type:"datasource"}),this.datasourceUid=e.datasourceUid,this.datasourceType=e.datasourceType,this.datasourceName=e.datasourceName,this.img=e.img,this.text=e.datasourceName}formatForLLM(e){return{type:this.type,codeElementIds:e,data:{name:this.datasourceName,uid:this.datasourceUid,type:this.datasourceType,text:this.text,img:this.img}}}}class N extends i{constructor(e){var t,n,r;super({id:`${e.type}-${e.name}-${[null===(t=e.scope)||void 0===t?void 0:t.env,null===(n=e.scope)||void 0===n?void 0:n.site,null===(r=e.scope)||void 0===r?void 0:r.namespace].filter(Boolean).join("-")}`,type:"entity",title:e.title,hidden:e.hidden,img:e.img,icon:e.icon,text:e.name}),this.entityType=e.type,this.name=e.name,this.scope=e.scope,this.properties=e.properties,this.text=e.name}formatForLLM(e){return{type:"entity",codeElementIds:e,data:{name:this.name,text:this.text,type:this.entityType,scope:this.scope,properties:this.properties}}}}class L extends i{constructor(e){super({...e,id:`${e.datasourceUid}-${e.labelName}`,type:"label_name"}),this.datasourceUid=e.datasourceUid,this.datasourceType=e.datasourceType,this.datasourceName=e.datasourceName,this.labelName=e.labelName,this.text=e.labelName,this.img=e.img}formatForLLM(e){return{type:this.type,codeElementIds:e,data:{name:this.labelName,datasourceUid:this.datasourceUid,datasourceType:this.datasourceType,datasourceName:this.datasourceName,labelName:this.labelName,img:this.img,text:this.text}}}}class T extends i{constructor(e){super({...e,id:`${e.datasourceUid}-${e.labelName}-${e.labelValue}`,type:"label_value"}),this.datasourceUid=e.datasourceUid,this.datasourceType=e.datasourceType,this.datasourceName=e.datasourceName,this.labelName=e.labelName,this.labelValue=e.labelValue,this.text=e.labelValue,this.img=e.img}formatForLLM(e){return{type:this.type,codeElementIds:e,data:{name:this.labelValue,datasourceUid:this.datasourceUid,datasourceType:this.datasourceType,datasourceName:this.datasourceName,labelName:this.labelName,labelValue:this.labelValue,text:this.text,img:this.img}}}}function _(e){var t,n,r,a,i;const o=(0,s.getDataSourceSrv)().getInstanceSettings(e);return{datasourceType:null!==(t=null==o?void 0:o.type)&&void 0!==t?t:"unknown",datasourceName:null!==(n=null==o?void 0:o.name)&&void 0!==n?n:e,img:null===(i=null===(a=null===(r=null==o?void 0:o.meta)||void 0===r?void 0:r.info)||void 0===a?void 0:a.logos)||void 0===i?void 0:i.small}}const P={datasource:"database",label_name:"database",label_value:"database",dashboard:"dashboard",dashboard_folder:"folder",unknown:"circle-mono",structured:"gf-grid",component:"gf-grid",entity:"asserts"};function U(e,t){var n,r,a;const s=function(e,t){switch(e){case"datasource":return new I({...t,..._(t.datasourceUid)});case"label_name":return new L({...t,..._(t.datasourceUid)});case"label_value":return new T({...t,..._(t.datasourceUid)});case"dashboard":return new C(t);case"dashboard_folder":return new S(t);case"structured":return new o(t);case"component":return new E({...t,hidden:!0});case"entity":return new N(t);case"unknown":return new i(t);default:return console.error(`Unknown context type: ${e}`),new i(t)}}(e,t),c=null!==(n=t.title)&&void 0!==n?n:function(e){var t;return e instanceof o?e.formatForLLM().data.name:null!==(t=e.text)&&void 0!==t?t:"Given Context"}(s),l=null!==(r=t.img)&&void 0!==r?r:function(e){if("img"in e)return e.img}(s);return{node:{id:s.id,name:c,img:l,icon:null!==(a=t.icon)&&void 0!==a?a:P[e],navigable:!1,selectable:!0,data:s},occurrences:[]}}function R(e,t){const n=x("question"),r=e=>e.map((e,t)=>({node:{id:`question-${n}-${t}`,name:e.prompt,navigable:!1,selectable:!0,icon:"question-circle",data:{type:"question",prompt:e.prompt,context:e.context||[]}},occurrences:[]})),a=b(e,r(t)),i=e=>{a(r(e))};return i.unregister=a.unregister,i}function O(e,t=[]){const n=(0,c.useMemo)(()=>x("question"),[]),r=e=>e.map((e,t)=>({node:{id:`question-${n}-${t}`,name:e.prompt,navigable:!1,selectable:!0,icon:"question-circle",data:{type:"question",prompt:e.prompt,context:e.context||[]}},occurrences:[]})),a=y(e,r(t));return e=>{a(r(e))}}function M(){const e=w({allowQuestions:!0,allowComponents:!1});return D(e)}const D=e=>e.filter(e=>{var t;return"question"===(null===(t=e.node.data)||void 0===t?void 0:t.type)}).map(e=>{var t,n;return{prompt:(null===(t=e.node.data)||void 0===t?void 0:t.prompt)||e.node.name,context:(null===(n=e.node.data)||void 0===n?void 0:n.context)||[]}}),F="grafana-assistant-app/callback/v0-alpha";function G(e,t){return{namespace:e,functions:t}}function z(e){return{title:"callback",targets:[F],fn:()=>e.map(e=>({namespace:e.namespace,functions:e.functions}))}}const B=n(1269),j="grafana-assistant-app",W="Grafana Assistant";function q(){return s.getObservablePluginLinks?(0,s.getObservablePluginLinks)({extensionPointId:"grafana/extension-sidebar/v0-alpha"}).pipe((0,B.map)(e=>e.some(e=>e.pluginId===j&&e.title===W))):(0,B.of)(!1)}const V=n(7781);class Q extends V.BusEventWithPayload{}Q.type="open-extension-sidebar";class K extends V.BusEventBase{}K.type="close-extension-sidebar";class H extends V.BusEventWithPayload{}function J(e){var t,n;(0,s.reportInteraction)("grafana_assistant_app_opened_sidebar",{from:e.origin,prompt:null!==(t=e.prompt)&&void 0!==t?t:""}),function(e,t,n){const r=new Q({pluginId:e,componentTitle:t,props:n});(0,s.getAppEvents)().publish(r)}(j,W,{initialPrompt:e.prompt,initialContext:e.context,initialAutoSend:null===(n=e.autoSend)||void 0===n||n,origin:e.origin,initialMode:e.mode})}function X(){!function(){const e=new K;(0,s.getAppEvents)().publish(e)}()}function Z(e){var t,n;(0,s.reportInteraction)("grafana_assistant_app_toggled_sidebar",{from:e.origin,prompt:null!==(t=e.prompt)&&void 0!==t?t:""}),function(e,t,n){const r=new H({pluginId:e,componentTitle:t,props:n});(0,s.getAppEvents)().publish(r)}(j,W,{initialPrompt:e.prompt,initialContext:e.context,initialAutoSend:null===(n=e.autoSend)||void 0===n||n,origin:e.origin,initialMode:e.mode})}function Y(){const[e,t]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{const e=q().subscribe(e=>t(e));return()=>{e.unsubscribe()}},[]),{isAvailable:e,openAssistant:e?J:void 0,closeAssistant:e?X:void 0,toggleAssistant:e?Z:void 0}}H.type="toggle-extension-sidebar";const ee=n(2007);var te=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),ne=Math.abs,re=String.fromCharCode,ae=Object.assign;function ie(e){return e.trim()}function oe(e,t,n){return e.replace(t,n)}function se(e,t){return e.indexOf(t)}function ce(e,t){return 0|e.charCodeAt(t)}function le(e,t,n){return e.slice(t,n)}function ue(e){return e.length}function de(e){return e.length}function pe(e,t){return t.push(e),e}var fe=1,me=1,he=0,ge=0,ve=0,be="";function ye(e,t,n,r,a,i,o){return{value:e,root:t,parent:n,type:r,props:a,children:i,line:fe,column:me,length:o,return:""}}function we(e,t){return ae(ye("",null,null,"",null,null,0),e,{length:-e.length},t)}function xe(){return ve=ge>0?ce(be,--ge):0,me--,10===ve&&(me=1,fe--),ve}function ke(){return ve=ge<he?ce(be,ge++):0,me++,10===ve&&(me=1,fe++),ve}function Ee(){return ce(be,ge)}function Ae(){return ge}function $e(e,t){return le(be,e,t)}function Ce(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Se(e){return fe=me=1,he=ue(be=e),ge=0,[]}function Ie(e){return be="",e}function Ne(e){return ie($e(ge-1,_e(91===e?e+2:40===e?e+1:e)))}function Le(e){for(;(ve=Ee())&&ve<33;)ke();return Ce(e)>2||Ce(ve)>3?"":" "}function Te(e,t){for(;--t&&ke()&&!(ve<48||ve>102||ve>57&&ve<65||ve>70&&ve<97););return $e(e,Ae()+(t<6&&32==Ee()&&32==ke()))}function _e(e){for(;ke();)switch(ve){case e:return ge;case 34:case 39:34!==e&&39!==e&&_e(ve);break;case 40:41===e&&_e(e);break;case 92:ke()}return ge}function Pe(e,t){for(;ke()&&e+ve!==57&&(e+ve!==84||47!==Ee()););return"/*"+$e(t,ge-1)+"*"+re(47===e?e:ke())}function Ue(e){for(;!Ce(Ee());)ke();return $e(e,ge)}var Re="-ms-",Oe="-moz-",Me="-webkit-",De="comm",Fe="rule",Ge="decl",ze="@keyframes";function Be(e,t){for(var n="",r=de(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function je(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Ge:return e.return=e.return||e.value;case De:return"";case ze:return e.return=e.value+"{"+Be(e.children,r)+"}";case Fe:e.value=e.props.join(",")}return ue(n=Be(e.children,r))?e.return=e.value+"{"+n+"}":""}function We(e){return Ie(qe("",null,null,null,[""],e=Se(e),0,[0],e))}function qe(e,t,n,r,a,i,o,s,c){for(var l=0,u=0,d=o,p=0,f=0,m=0,h=1,g=1,v=1,b=0,y="",w=a,x=i,k=r,E=y;g;)switch(m=b,b=ke()){case 40:if(108!=m&&58==ce(E,d-1)){-1!=se(E+=oe(Ne(b),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:E+=Ne(b);break;case 9:case 10:case 13:case 32:E+=Le(m);break;case 92:E+=Te(Ae()-1,7);continue;case 47:switch(Ee()){case 42:case 47:pe(Qe(Pe(ke(),Ae()),t,n),c);break;default:E+="/"}break;case 123*h:s[l++]=ue(E)*v;case 125*h:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+u:-1==v&&(E=oe(E,/\f/g,"")),f>0&&ue(E)-d&&pe(f>32?Ke(E+";",r,n,d-1):Ke(oe(E," ","")+";",r,n,d-2),c);break;case 59:E+=";";default:if(pe(k=Ve(E,t,n,l,u,a,s,y,w=[],x=[],d),i),123===b)if(0===u)qe(E,t,k,k,w,i,d,s,x);else switch(99===p&&110===ce(E,3)?100:p){case 100:case 108:case 109:case 115:qe(e,k,k,r&&pe(Ve(e,k,k,0,0,a,s,y,a,w=[],d),x),a,x,d,s,r?w:x);break;default:qe(E,k,k,k,[""],x,0,s,x)}}l=u=f=0,h=v=1,y=E="",d=o;break;case 58:d=1+ue(E),f=m;default:if(h<1)if(123==b)--h;else if(125==b&&0==h++&&125==xe())continue;switch(E+=re(b),b*h){case 38:v=u>0?1:(E+="\f",-1);break;case 44:s[l++]=(ue(E)-1)*v,v=1;break;case 64:45===Ee()&&(E+=Ne(ke())),p=Ee(),u=d=ue(y=E+=Ue(Ae())),b++;break;case 45:45===m&&2==ue(E)&&(h=0)}}return i}function Ve(e,t,n,r,a,i,o,s,c,l,u){for(var d=a-1,p=0===a?i:[""],f=de(p),m=0,h=0,g=0;m<r;++m)for(var v=0,b=le(e,d+1,d=ne(h=o[m])),y=e;v<f;++v)(y=ie(h>0?p[v]+" "+b:oe(b,/&\f/g,p[v])))&&(c[g++]=y);return ye(e,t,n,0===a?Fe:s,c,l,u)}function Qe(e,t,n){return ye(e,t,n,De,re(ve),le(e,2,-2),0)}function Ke(e,t,n,r){return ye(e,t,n,Ge,le(e,0,r),le(e,r+1,-1),r)}var He=function(e,t,n){for(var r=0,a=0;r=a,a=Ee(),38===r&&12===a&&(t[n]=1),!Ce(a);)ke();return $e(e,ge)},Je=new WeakMap,Xe=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Je.get(n))&&!r){Je.set(e,!0);for(var a=[],i=function(e,t){return Ie(function(e,t){var n=-1,r=44;do{switch(Ce(r)){case 0:38===r&&12===Ee()&&(t[n]=1),e[n]+=He(ge-1,t,n);break;case 2:e[n]+=Ne(r);break;case 4:if(44===r){e[++n]=58===Ee()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=re(r)}}while(r=ke());return e}(Se(e),t))}(t,a),o=n.props,s=0,c=0;s<i.length;s++)for(var l=0;l<o.length;l++,c++)e.props[c]=a[s]?i[s].replace(/&\f/g,o[l]):o[l]+" "+i[s]}}},Ze=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Ye(e,t){switch(function(e,t){return 45^ce(e,0)?(((t<<2^ce(e,0))<<2^ce(e,1))<<2^ce(e,2))<<2^ce(e,3):0}(e,t)){case 5103:return Me+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Me+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Me+e+Oe+e+Re+e+e;case 6828:case 4268:return Me+e+Re+e+e;case 6165:return Me+e+Re+"flex-"+e+e;case 5187:return Me+e+oe(e,/(\w+).+(:[^]+)/,Me+"box-$1$2"+Re+"flex-$1$2")+e;case 5443:return Me+e+Re+"flex-item-"+oe(e,/flex-|-self/,"")+e;case 4675:return Me+e+Re+"flex-line-pack"+oe(e,/align-content|flex-|-self/,"")+e;case 5548:return Me+e+Re+oe(e,"shrink","negative")+e;case 5292:return Me+e+Re+oe(e,"basis","preferred-size")+e;case 6060:return Me+"box-"+oe(e,"-grow","")+Me+e+Re+oe(e,"grow","positive")+e;case 4554:return Me+oe(e,/([^-])(transform)/g,"$1"+Me+"$2")+e;case 6187:return oe(oe(oe(e,/(zoom-|grab)/,Me+"$1"),/(image-set)/,Me+"$1"),e,"")+e;case 5495:case 3959:return oe(e,/(image-set\([^]*)/,Me+"$1$`$1");case 4968:return oe(oe(e,/(.+:)(flex-)?(.*)/,Me+"box-pack:$3"+Re+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Me+e+e;case 4095:case 3583:case 4068:case 2532:return oe(e,/(.+)-inline(.+)/,Me+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ue(e)-1-t>6)switch(ce(e,t+1)){case 109:if(45!==ce(e,t+4))break;case 102:return oe(e,/(.+:)(.+)-([^]+)/,"$1"+Me+"$2-$3$1"+Oe+(108==ce(e,t+3)?"$3":"$2-$3"))+e;case 115:return~se(e,"stretch")?Ye(oe(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==ce(e,t+1))break;case 6444:switch(ce(e,ue(e)-3-(~se(e,"!important")&&10))){case 107:return oe(e,":",":"+Me)+e;case 101:return oe(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Me+(45===ce(e,14)?"inline-":"")+"box$3$1"+Me+"$2$3$1"+Re+"$2box$3")+e}break;case 5936:switch(ce(e,t+11)){case 114:return Me+e+Re+oe(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Me+e+Re+oe(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Me+e+Re+oe(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Me+e+Re+e+e}return e}var et=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Ge:e.return=Ye(e.value,e.length);break;case ze:return Be([we(e,{value:oe(e.value,"@","@"+Me)})],r);case Fe:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return Be([we(e,{props:[oe(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Be([we(e,{props:[oe(t,/:(plac\w+)/,":"+Me+"input-$1")]}),we(e,{props:[oe(t,/:(plac\w+)/,":-moz-$1")]}),we(e,{props:[oe(t,/:(plac\w+)/,Re+"input-$1")]})],r)}return""})}}],tt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var nt=/[A-Z]|^ms/g,rt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,at=function(e){return 45===e.charCodeAt(1)},it=function(e){return null!=e&&"boolean"!=typeof e},ot=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return at(e)?e:e.replace(nt,"-$&").toLowerCase()}),st=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(rt,function(e,t,n){return lt={name:t,styles:n,next:lt},t})}return 1===tt[e]||at(e)||"number"!=typeof t||0===t?t:t+"px"};function ct(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var a=n;if(1===a.anim)return lt={name:a.name,styles:a.styles,next:lt},a.name;var i=n;if(void 0!==i.styles){var o=i.next;if(void 0!==o)for(;void 0!==o;)lt={name:o.name,styles:o.styles,next:lt},o=o.next;return i.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=ct(e,t,n[a])+";";else for(var i in n){var o=n[i];if("object"!=typeof o){var s=o;null!=t&&void 0!==t[s]?r+=i+"{"+t[s]+"}":it(s)&&(r+=ot(i)+":"+st(i,s)+";")}else if(!Array.isArray(o)||"string"!=typeof o[0]||null!=t&&void 0!==t[o[0]]){var c=ct(e,t,o);switch(i){case"animation":case"animationName":r+=ot(i)+":"+c+";";break;default:r+=i+"{"+c+"}"}}else for(var l=0;l<o.length;l++)it(o[l])&&(r+=ot(i)+":"+st(i,o[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var s=lt,c=n(e);return lt=s,ct(e,t,c)}}var l=n;if(null==t)return l;var u=t[l];return void 0!==u?u:l}var lt,ut=/label:\s*([^\s;{]+)\s*(;|$)/g;function dt(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,a="";lt=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,a+=ct(n,t,i)):a+=i[0];for(var o=1;o<e.length;o++)a+=ct(n,t,e[o]),r&&(a+=i[o]);ut.lastIndex=0;for(var s,c="";null!==(s=ut.exec(a));)c+="-"+s[1];var l=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(a)+c;return{name:l,styles:a,next:lt}}function pt(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")}),r}function ft(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function mt(e,t,n){var r=[],a=pt(e,r,n);return r.length<2?n:a+t(r)}var ht=function e(t){for(var n="",r=0;r<t.length;r++){var a=t[r];if(null!=a){var i=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))i=e(a);else for(var o in i="",a)a[o]&&o&&(i&&(i+=" "),i+=o);break;default:i=a}i&&(n&&(n+=" "),n+=i)}}return n},gt=function(){var e=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var r,a,i=e.stylisPlugins||et,o={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)});var c,l,u,d,p=[je,(d=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&d(e)})],f=(l=[Xe,Ze].concat(i,p),u=de(l),function(e,t,n,r){for(var a="",i=0;i<u;i++)a+=l[i](e,t,n,r)||"";return a});a=function(e,t,n,r){c=n,Be(We(e?e+"{"+t.styles+"}":t.styles),f),r&&(m.inserted[t.name]=!0)};var m={key:t,sheet:new te({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return m.sheet.hydrate(s),m}({key:"css"});e.sheet.speedy=function(e){this.isSpeedy=e},e.compat=!0;var t=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=dt(n,e.registered,void 0);return function(e,t){!function(e,t){var n=e.key+"-"+t.name;void 0===e.registered[n]&&(e.registered[n]=t.styles)}(e,t);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+n:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}}(e,a),e.key+"-"+a.name};return{css:t,cx:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return mt(e.registered,t,ht(r))},injectGlobal:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=dt(n,e.registered);ft(e,a)},keyframes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=dt(n,e.registered),i="animation-"+a.name;return ft(e,{name:a.name,styles:"@keyframes "+i+"{"+a.styles+"}"}),i},hydrate:function(t){t.forEach(function(t){e.inserted[t]=!0})},flush:function(){e.registered={},e.inserted={},e.sheet.flush()},sheet:e.sheet,cache:e,getRegisteredStyles:pt.bind(null,e.registered),merge:mt.bind(null,e.registered,t)}}(),vt=(gt.flush,gt.hydrate,gt.cx),bt=(gt.merge,gt.getRegisteredStyles,gt.injectGlobal,gt.keyframes),yt=gt.css;function wt(e){const{isAvailable:t,openAssistant:n}=Y();return t&&n?l().createElement(xt,{...e,openAssistant:n}):null}function xt({prompt:e,origin:t,context:n,autoSend:r=!0,title:a="Analyze with Assistant",size:i="sm",iconOnlyButton:o=!1,openAssistant:u,onClick:d}){const p=(0,ee.useStyles2)(kt);return(0,c.useEffect)(()=>{(0,s.reportInteraction)("grafana_assistant_app_open_sidebar_button_displayed",{from:t})},[t]),l().createElement(l().Fragment,null,o?l().createElement(ee.IconButton,{name:"ai-sparkle",onClick:()=>{null==d||d(),u({prompt:e,context:n,autoSend:r,origin:t})},variant:"secondary",size:i,"aria-label":a,className:p.icon,tooltip:a,"data-testid":"assistant-icon-button"}):l().createElement(ee.Button,{icon:"ai-sparkle",onClick:()=>{null==d||d(),u({prompt:e,context:n,autoSend:r,origin:t})},variant:"secondary",fill:"solid",size:i,title:a,"aria-label":a,className:p.button,"data-testid":"assistant-button"},a))}gt.sheet,gt.cache;const kt=e=>{const t=e.colors.secondary.main,n=e.colors.emphasize(t,.05),r=e.colors.background.canvas,a=e.shape.radius.default,i=`max(calc(${a} - 1px), 1px)`,o={content:'""',position:"absolute",inset:0,borderRadius:a,background:"linear-gradient(90deg, rgb(168, 85, 247), rgb(249, 115, 22))",zIndex:-2,pointerEvents:"none"},s=e=>({content:'""',position:"absolute",inset:"1px",borderRadius:i,background:`linear-gradient(${e}, ${e}), ${r}`,zIndex:-1,transition:"none",pointerEvents:"none"});return{button:yt({label:"assistant-button",position:"relative",isolation:"isolate",border:"none",transition:"none !important","&::before":o,"&::after":{...s(t),transition:"none"},"&:hover":{transition:"none !important"},"&:hover::after":{background:`linear-gradient(${n}, ${n}), ${r}`}}),icon:yt({label:"assistant-icon",position:"relative",isolation:"isolate",border:"none",background:"none",padding:e.spacing(.5),"&::before":{...o,transition:"background 0.1s ease"},"&:hover::after":{...s(t),background:`linear-gradient(${n}, ${n}), ${r}`}})}};let Et=null,At=null,$t=null;function Ct(e){Et=e}function St(e){At=e}async function It(){if(!Et){if(!At)throw new Error("InlineAssistant not initialized. Make sure the Grafana Assistant plugin is loaded and initialized.");return $t||($t=(async()=>{try{await At()}catch(e){throw $t=null,e}})(),$t)}}function Nt(){if(!Et)throw new Error("InlineAssistant factory not initialized. Make sure the Grafana Assistant plugin is loaded.");return Et}function Lt(){const[e,t]=(0,c.useState)(!1),[n,r]=(0,c.useState)(""),[a,i]=(0,c.useState)(null),o=(0,c.useRef)(null),s=(0,c.useCallback)(()=>{i(null),r("")},[]),l=(0,c.useCallback)(()=>{o.current&&o.current.cancel(),t(!1)},[]),u=(0,c.useCallback)(async e=>{var n;i(null),r(""),t(!0);try{await It();const n=Nt();o.current||(o.current=await n(e.origin)),await o.current.sendPrompt({prompt:e.prompt,systemPrompt:e.systemPrompt,onStart:()=>{t(!0)},onDelta:t=>{var n;r(e=>e+t),null===(n=e.onDelta)||void 0===n||n.call(e,t)},onComplete:n=>{var a;r(n),t(!1),null===(a=e.onComplete)||void 0===a||a.call(e,n)},onError:n=>{var r;i(n),t(!1),null===(r=e.onError)||void 0===r||r.call(e,n)}})}catch(r){const a=r instanceof Error?r:new Error(String(r));i(a),t(!1),null===(n=e.onError)||void 0===n||n.call(e,a)}},[]);return(0,c.useEffect)(()=>()=>{o.current&&(o.current.cancel(),o.current.dispose(),o.current=null)},[]),{generate:u,isGenerating:e,content:n,error:a,cancel:l,reset:s}}const Tt=e=>{const t=["rgb(168, 85, 247)","rgb(249, 115, 22)"];if("dark"===e.name.toLowerCase()||"light"===e.name.toLowerCase())return t;const n=e.colors.gradients.brandHorizontal.match(/#[0-9A-Fa-f]{6}/g);return!n||n.length<2?t:[n[0],n[1]]},_t=(e,t,n,r)=>{const a=Array.from({length:101},(e,t)=>t),i={},[o,s]=Tt(e),c=null!=n?n:o,l=null!=r?r:s;return a.forEach(e=>{i[`${e}%`]={backgroundImage:`\n        linear-gradient(${t}, ${t}),\n        conic-gradient(from ${3.6*e}deg, transparent 60%, ${c} 80%, ${l} 100%, transparent 15%)\n      `}}),i};function Pt({value:e,onChange:t,placeholder:n,origin:r,systemPrompt:a,onComplete:i,onError:o,onDelta:s,disabled:c=!1,className:u,"data-testid":d}){const{generate:p,isGenerating:f,error:m,reset:h}=Lt(),g=!e.trim()||c||f,v=(0,ee.useStyles2)(Ut),b=async()=>{if(g)return;const t=e.trim();h(),await p({prompt:t,origin:r,systemPrompt:a,onComplete:e=>{null==i||i(e)},onError:e=>{null==o||o(e)},onDelta:e=>{null==s||s(e)}})},y=l().createElement(ee.IconButton,{name:"ai-sparkle",onClick:b,disabled:g,tooltip:g?"Enter text to generate":"Generate with AI","data-testid":d?`${d}-send`:void 0});return l().createElement("div",{className:vt(v.wrapper,{[v.animatedWrapper]:f},u),"data-testid":d},l().createElement(ee.Input,{value:e,onKeyDown:e=>{"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),b())},onChange:e=>t(e.currentTarget.value),placeholder:null!=n?n:"Ask AI to generate...",disabled:c||f,suffix:y,invalid:!!m,"data-testid":d?`${d}-input`:void 0}))}const Ut=e=>{const t=e.colors.background.primary,n=bt({label:"ai-input-border-animation",..._t(e,t)}),[r,a]=Tt(e);return{wrapper:yt({label:"ai-text-input-wrapper",position:"relative",borderRadius:e.shape.radius.default}),animatedWrapper:yt({label:"ai-text-input-animated",border:"1px solid transparent",backgroundImage:`\n        linear-gradient(${t}, ${t}),\n        conic-gradient(from 0deg, transparent 60%, ${r} 80%, ${a} 100%, transparent 15%)\n      `,backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",animation:`${n} 2s linear infinite`,"& input":{border:"none !important"}})}};function Rt({value:e,onChange:t,placeholder:n,origin:r,systemPrompt:a,onComplete:i,onError:o,onDelta:s,disabled:c=!1,rows:u=4,className:d,"data-testid":p}){const{generate:f,isGenerating:m,error:h,reset:g}=Lt(),v=!e.trim()||c||m,b=(0,ee.useStyles2)(Ot),y=async()=>{if(v)return;const t=e.trim();g(),await f({prompt:t,origin:r,systemPrompt:a,onComplete:e=>{null==i||i(e)},onError:e=>{null==o||o(e)},onDelta:e=>{null==s||s(e)}})};return l().createElement("div",{className:vt(b.textareaWrapper,{[b.animatedWrapper]:m},d),"data-testid":p},l().createElement(ee.TextArea,{value:e,onKeyDown:e=>{"Enter"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),y())},onChange:e=>t(e.currentTarget.value),placeholder:null!=n?n:"Ask AI to generate... (Cmd/Ctrl+Enter to send)",disabled:c||m,rows:u,className:b.textarea,invalid:!!h,"data-testid":p?`${p}-textarea`:void 0}),l().createElement(ee.IconButton,{name:"ai-sparkle",onClick:y,disabled:v,className:b.sendButton,"aria-label":"Generate with AI",tooltip:v?"Enter text to generate":"Generate with AI (Cmd/Ctrl+Enter)","data-testid":p?`${p}-send`:void 0}))}const Ot=e=>{const t=e.colors.background.primary,n=bt({label:"ai-textarea-border-animation",..._t(e,t)}),[r,a]=Tt(e);return{textareaWrapper:yt({label:"ai-textarea-wrapper",position:"relative",borderRadius:e.shape.radius.default}),animatedWrapper:yt({label:"ai-textarea-animated",border:"1px solid transparent",backgroundImage:`\n        linear-gradient(${t}, ${t}),\n        conic-gradient(from 0deg, transparent 60%, ${r} 80%, ${a} 100%, transparent 15%)\n      `,backgroundOrigin:"border-box",backgroundClip:"padding-box, border-box",animation:`${n} 2s linear infinite`,"& textarea":{border:"none !important"}}),textarea:yt({label:"ai-textarea",paddingRight:e.spacing(4),scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),sendButton:yt({label:"ai-textarea-send",position:"absolute",right:e.spacing(1),top:e.spacing(1)})}};e.exports=r})()},8494:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h,getPageNav:()=>m});var r=n(7781),a=n(8531),i=n(3014),o=n(5959),s=n.n(o),c=n(3966),l=n(6359),u=n(2449),d=n(219);const p=(0,d.createAssistantContextItem)("structured",{hidden:!0,title:"Metrics Drilldown Features",data:{name:"Metrics Drilldown",description:"Queryless exploration tool for Prometheus-compatible metrics",features:{search:"Search metrics by name in the Quick Search input",filters:{labelFilters:"Apply label name and value filters in the Filters input",prefixFilters:"Filter by metric name prefix in the sidebar",suffixFilters:"Filter by metric name suffix in the sidebar",groupBy:"Group metrics by label using the Group by labels filter in sidebar"},sorting:"Sort by alphabetical, recently used, dashboard usage, or alerting rules",breakdown:"View metric labels in the Breakdown tab when a metric is selected",relatedMetrics:"Discover related metrics in the Related Metrics tab",relatedLogs:"Discover related logs in the Related Logs tab",sharing:"Use Copy URL button in panel menu to share metric views"},navigation:{metricsList:"Main view shows all available metrics",metricDetail:"Selecting a metric opens detailed view with tabs",tabs:["Breakdown","Related Metrics","Related Logs"]}}}),f=[{prompt:"How can I find a metric I'm interested in?",context:[p]},{prompt:"How can I see a metric's labels?",context:[p]},{prompt:"When I find a metric of interest, what can I do next?",context:[p]}];function m(e,t,n){if(t&&e instanceof l.R){const e=new URLSearchParams(window.location.search),r=new URLSearchParams(e);r.set("actionView",c.nh);return{text:n,url:`${window.location.pathname}?${e.toString()}`,parentItem:{text:t,url:`${window.location.pathname}?${r.toString()}`,parentItem:{text:"Metrics",url:window.location.pathname}}}}if(e instanceof u.m)return{text:"All metrics"}}function h({trail:e}){(0,d.useProvideQuestions)("/a/grafana-metricsdrilldown-app/drilldown*",f);const{topScene:t,metric:n}=e.useState(),[c,u]=(0,o.useState)("");(0,o.useEffect)(()=>{if(!(t instanceof l.R))return void u("");u(t.getActionViewName());const e=t.subscribeToState(()=>{u(t.getActionViewName())});return()=>{e&&e.unsubscribe()}},[t]);const p=(0,o.useMemo)(()=>m(t,n,c),[t,n,c]);return s().createElement(a.PluginPage,{pageNav:p,layout:r.PageLayoutType.Custom},s().createElement(i.UrlSyncContextProvider,{scene:e,createBrowserHistorySteps:!0,updateUrlOnInit:!0,namespace:e.state.urlNamespace},s().createElement(e.Component,{model:e})))}}}]);
//# sourceMappingURL=494.js.map?_cache=c08c93e5cce9bf750560