/* [create-plugin] version: 5.26.9 */
/* [create-plugin] plugin: grafana-metricsdrilldown-app@1.0.23 */
define(["i18next","react-router","rxjs","module","@grafana/ui","lodash","react","@emotion/css","@grafana/data","react-dom","@grafana/runtime"],(e,t,i,n,r,s,o,a,l,c,u)=>(()=>{var d,p,f,h,g={211:t=>{"use strict";t.exports=e},1159:e=>{"use strict";e.exports=t},1269:e=>{"use strict";e.exports=i},1308:e=>{"use strict";e.exports=n},2007:e=>{"use strict";e.exports=r},2533:e=>{"use strict";e.exports=JSON.parse('{"id":"grafana-metricsdrilldown-app"}')},3241:e=>{"use strict";e.exports=s},3498:(e,t,i)=>{"use strict";i.d(t,{b:()=>n});const n={Trail:"trail",Drilldown:"drilldown"}},3781:(e,t,i)=>{"use strict";i.d(t,{I8:()=>S,kY:()=>T,Rk:()=>y,Ge:()=>g,$9:()=>m});var n=i(7781),r=i(8531);function s(e=[],t){if(!t.multi&&!t.includeAll)return function(e){if("string"!=typeof e)return e;if(r.config.featureToggles.prometheusSpecialCharsInLabelValues)return/^\w+(=|!=|=~|!~)".*"$/.test(e)?e:e.replace(/\\/g,"\\\\").replace(/"/g,'\\"');return e.replace(/\\/g,"\\\\").replace(/'/g,"\\\\'")}(e);if("string"==typeof e)return o(e);const i=e.map(e=>o(e));return 1===i.length?i[0]:"("+i.join("|")+")"}function o(e){return"string"!=typeof e?e:r.config.featureToggles.prometheusSpecialCharsInLabelValues?e.replace(/\\/g,"\\\\\\\\").replace(/"/g,'\\\\\\"').replace(/[$^*{}\[\]\'+?.()|]/g,"\\\\$&"):e.replace(/\\/g,"\\\\\\\\").replace(/[$^*{}\[\]+?.()|]/g,"\\\\$&")}var a=i(8943),l=i(3498),c=i(8705);const u=new RegExp("([a-zA-Z_]\\w*)(>|<|!~|=~|!=|=)(.+)");var d=i(6538);function p(e,t,i,n,r,s,o){try{var a=e[s](o),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}function f(e){return function(){var t=this,i=arguments;return new Promise(function(n,r){var s=e.apply(t,i);function o(e){p(s,n,r,o,a,"next",e)}function a(e){p(s,n,r,o,a,"throw",e)}o(void 0)})}}const h="Grafana Metrics Drilldown",g=[{title:`Open in ${h}`,description:`Open current query in the ${h} view`,category:"metrics-drilldown",icon:"gf-prometheus",path:y(l.b.Drilldown),targets:[n.PluginExtensionPoints.DashboardPanelMenu,n.PluginExtensionPoints.ExploreToolbarAction,"grafana/alerting/alertingrule/queryeditor","grafana-assistant-app/navigateToDrilldown/v1"],configure:function(e){if(void 0===e)return;if("pluginId"in e&&"timeseries"!==e.pluginId)return;if(!e.targets.filter(E).length)return;return{}},onClick:(e,t)=>f(function*(){const e=t.context,i=yield function(e){return f(function*(){var t;if(void 0===e)return null;if("pluginId"in e&&"timeseries"!==e.pluginId)return null;const i=e.targets.filter(E);if(!i.length)return null;const n=i[0],o=(0,r.getTemplateSrv)(),a=o.replace(null===(t=n.datasource)||void 0===t?void 0:t.uid,e.scopedVars);if(!n.expr)return y(l.b.Drilldown);const u=o.replace(n.expr,e.scopedVars,s);try{const{metric:t,labels:i,hasErrors:n,errors:r}=yield m(u);n&&c.v.warn(`PromQL query has parsing errors: ${r.join(", ")}`);const s="timeRange"in e&&"object"==typeof e.timeRange&&null!=e.timeRange&&"from"in e.timeRange&&"to"in e.timeRange?e.timeRange:void 0,o=w(b(a,i,t,null==s?void 0:s.from,null==s?void 0:s.to));return y(l.b.Drilldown,o)}catch(e){return c.v.error(new Error(`[Metrics Drilldown] Error parsing PromQL query: ${e}`)),y(l.b.Drilldown)}})()}(e);i&&(window.location.href=i)})()},{targets:["grafana-metricsdrilldown-app/grafana-assistant-app/navigateToDrilldown/v0-alpha"],title:"Navigate to metrics drilldown",description:"Build a url path to the metrics drilldown",path:y(l.b.Drilldown),configure:e=>{if(void 0===e)return;const{navigateToMetrics:t,datasource_uid:i,label_filters:n,metric:r,start:s,end:o}=e,a=function(e){if(!e)return[];return e.map(e=>{const t=function(e){const[,t,i,n]=e.match(u)||[,"","",""];return{key:t.trim(),value:n.replace(/['" ]/g,""),operator:i.trim()}}(e);return{label:t.key,op:t.operator,value:t.value}})}(n),c=b(i,a,r,s,o),d=t?w(c):void 0;return{path:y(l.b.Drilldown,d)}}}];function m(e){return f(function*(){const{parser:t}=yield Promise.all([i.e(782),i.e(851)]).then(i.bind(i,9851)),n=t.parse(e);let r="";const s=[];let o=!1;const a=[];return n.iterate({enter:t=>{var i;if(t.type.isError||"âš "===t.name){o=!0;const i=e.slice(t.from,t.to),n=i?`Parse error at position ${t.from}-${t.to}: "${i}"`:`Parse error at position ${t.from}`;a.push(n)}r||"Identifier"!==t.name||"VectorSelector"!==(null===(i=t.node.parent)||void 0===i?void 0:i.type.name)||(r=e.slice(t.from,t.to));const n=(0,d.W)(t,e);n&&s.push(n)}}),{metric:r,labels:s,hasErrors:o,errors:a}})()}function v(e){return[S.Filters,`${e.label}|${e.op}|${x(e.value)}`]}function b(e,t,i,n,r){return{datasource_uid:e,label_filters:null!=t?t:[],metric:i,start:n,end:r}}function w(e){const{metric:t,start:i,end:n,datasource_uid:r,label_filters:s}=e,o=null!=s?s:[];return T([[S.Metric,t],[S.TimeRangeFrom,i],[S.TimeRangeTo,n],[S.DatasourceId,r],...o.map(v)])}function y(e,t){const i=t?`?${t.toString()}`:"";return`${a.G}/${e}${i}`}const S={TimeRangeFrom:"from",TimeRangeTo:"to",Metric:"metric",DatasourceId:"var-ds",Filters:"var-filters"};function T(e,t){const i=new URLSearchParams(null==t?void 0:t.toString());return e.forEach(([e,t])=>{t&&i.append(e,t)}),i}function E(e){const{datasource:t}=e;return"prometheus"===(null==t?void 0:t.type)}function x(e){return null==e?"":/\|/g[Symbol.replace](e,"__gfp__")}},4440:(e,t,i)=>{"use strict";i.d(t,{UO:()=>c,aQ:()=>d,tS:()=>h});var n=i(8531),r=i(8705);function s(e,t,i,n,r,s,o){try{var a=e[s](o),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}function o(e){return function(){var t=this,i=arguments;return new Promise(function(n,r){var o=e.apply(t,i);function a(e){s(o,n,r,a,l,"next",e)}function l(e){s(o,n,r,a,l,"throw",e)}a(void 0)})}}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const l=3e3,c=3..toFixed(0),u=/^grafana-[0-9a-z]+prometheus-datasource$/;function d(e){return"object"==typeof e&&null!==e&&"type"in e&&"string"==typeof e.type&&("prometheus"===e.type||u.test(e.type))&&"uid"in e&&"string"==typeof e.uid}class p{getHealthyDataSources(e,t=15){return o(function*(){const i=this.cache.get(e);if(null==i?void 0:i.length)return i;let n=this.pendingRequests.get(e);n||(n=this.fetchHealthyDataSources(e,t).finally(()=>{this.pendingRequests.delete(e)}),this.pendingRequests.set(e,n));const r=yield n;return this.cache.set(e,r),r}).call(this)}fetchHealthyDataSources(e,t){return o(function*(){const i=[...(0,n.getDataSourceSrv)().getList({logs:!0,type:e,filter:e=>"grafana"!==e.uid})].sort((e,t)=>e.isDefault&&!t.isDefault?-1:!e.isDefault&&t.isDefault?1:0).slice(0,t),s=[],a=[];return yield Promise.all(i.map(e=>o(function*(){try{const t=yield this.performHealthCheckWithTimeout(e.uid);"OK"===(null==t?void 0:t.status)?s.push(e):"TIMEOUT"!==(null==t?void 0:t.status)&&a.push(e)}catch(t){a.push(e)}}).call(this))),a.length>0&&r.v.warn(`Found ${a.length} unhealthy ${e} data sources: ${a.map(e=>e.name).join(", ")}`),s}).call(this)}performHealthCheckWithTimeout(e){return o(function*(){const t=new AbortController,i=setTimeout(()=>{t.abort()},l);try{const r=yield(0,n.getBackendSrv)().get(`/api/datasources/uid/${e}/health`,void 0,void 0,{showSuccessAlert:!1,showErrorAlert:!1,abortSignal:t.signal});return clearTimeout(i),r}catch(e){if(clearTimeout(i),e instanceof DOMException&&"AbortError"===e.name)return{status:"TIMEOUT"};throw e}})()}constructor(){a(this,"pendingRequests",new Map),a(this,"cache",new Map)}}let f;function h(){return f||(f=new p),f}},4696:(e,t,i)=>{"use strict";i.d(t,{u:()=>r});const n=[{regExp:/localhost/,environment:"local"},{regExp:/grafana-dev\.net/,environment:"dev"},{regExp:/grafana-ops\.net/,environment:"ops"},{regExp:/grafana\.net/,environment:"prod"}];function r(){var e,t;if(!(null===(t=window)||void 0===t||null===(e=t.location)||void 0===e?void 0:e.host))return null;const i=n.find(({regExp:e})=>e.test(window.location.host));return i?i.environment:null}},5176:(e,t,i)=>{"use strict";i.d(t,{t:()=>n});const n="41a4746a9ef1a8656b82d19d933913ae14ffa4b6"},5438:(e,t,i)=>{"use strict";var n;i.d(t,{$b:()=>n,HT:()=>s,Ic:()=>r}),function(e){e.TRACE="trace",e.DEBUG="debug",e.INFO="info",e.LOG="log",e.WARN="warn",e.ERROR="error"}(n||(n={}));const r=n.LOG,s=[n.TRACE,n.DEBUG,n.INFO,n.LOG,n.WARN,n.ERROR]},5959:e=>{"use strict";e.exports=o},6089:e=>{"use strict";e.exports=a},6538:(e,t,i)=>{"use strict";function n(e,t,i,n,r,s,o){try{var a=e[s](o),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}function r(e){return(t=function*(){const{parser:t}=yield Promise.all([i.e(782),i.e(851)]).then(i.bind(i,9851)),n=t.parse(e),r=new Set,o=n.cursor();do{if(o.type.is("VectorSelector")&&o.firstChild()){do{o.type.is("Identifier")&&s(e,o,r)}while(o.nextSibling());o.parent()}}while(o.next());return Array.from(r)},function(){var e=this,i=arguments;return new Promise(function(r,s){var o=t.apply(e,i);function a(e){n(o,r,s,a,l,"next",e)}function l(e){n(o,r,s,a,l,"throw",e)}a(void 0)})})();var t}function s(e,t,i){const n=e.slice(t.from,t.to);n&&i.add(n)}function o(e,t){if("UnquotedLabelMatcher"!==e.name)return null;let i="",n="",r="";for(let s=e.node.firstChild;s;s=s.nextSibling)"LabelName"===s.type.name?i=t.slice(s.from,s.to):"MatchOp"===s.type.name?n=t.slice(s.from,s.to):"StringLiteral"===s.type.name&&(r=t.slice(s.from+1,s.to-1));return i&&n?{label:i,op:n,value:r}:null}i.d(t,{M:()=>r,W:()=>o})},6660:function(e,t,i){var n;!function(r,s){"use strict";var o="function",a="undefined",l="object",c="string",u="major",d="model",p="name",f="type",h="vendor",g="version",m="architecture",v="console",b="mobile",w="tablet",y="smarttv",S="wearable",T="embedded",E="Amazon",x="Apple",k="ASUS",O="BlackBerry",I="Browser",A="Chrome",C="Firefox",P="Google",_="Huawei",R="LG",N="Microsoft",L="Motorola",j="Opera",U="Samsung",H="Sharp",M="Sony",D="Xiaomi",z="Zebra",q="Facebook",B="Chromium OS",F="Mac OS",$=" Browser",K=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},V=function(e,t){return typeof e===c&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},G=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},J=function(e,t){for(var i,n,r,a,c,u,d=0;d<t.length&&!c;){var p=t[d],f=t[d+1];for(i=n=0;i<p.length&&!c&&p[i];)if(c=p[i++].exec(e))for(r=0;r<f.length;r++)u=c[++n],typeof(a=f[r])===l&&a.length>0?2===a.length?typeof a[1]==o?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==o||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):s:this[a[0]]=u?a[1].call(this,u,a[2]):s:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):s):this[a]=u||s;d+=2}},X=function(e,t){for(var i in t)if(typeof t[i]===l&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(V(t[i][n],e))return"?"===i?s:i}else if(V(t[i],e))return"?"===i?s:i;return t.hasOwnProperty("*")?t["*"]:e},Q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,g],[/opios[\/ ]+([\w\.]+)/i],[g,[p,j+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[g,[p,j+" GX"]],[/\bopr\/([\w\.]+)/i],[g,[p,j]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[p,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[g,[p,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,g],[/quark(?:pc)?\/([-\w\.]+)/i],[g,[p,"Quark"]],[/\bddg\/([\w\.]+)/i],[g,[p,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[p,"UC"+I]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[p,"Smart Lenovo "+I]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+I],g],[/\bfocus\/([\w\.]+)/i],[g,[p,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[p,j+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[p,j+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[p,"MIUI"+$]],[/fxios\/([\w\.-]+)/i],[g,[p,C]],[/\bqihoobrowser\/?([\w\.]*)/i],[g,[p,"360"]],[/\b(qq)\/([\w\.]+)/i],[[p,/(.+)/,"$1Browser"],g],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1"+$],g],[/samsungbrowser\/([\w\.]+)/i],[g,[p,U+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[g,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[p,g],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[p],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[g,p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,q],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[p,A+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,A+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[p,"Android "+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[g,X,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],g],[/(wolvic|librewolf)\/([\w\.]+)/i],[p,g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[p,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[p,[g,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[p,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,W]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[h,U],[f,w]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[h,U],[f,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[h,x],[f,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[h,x],[f,w]],[/(macintosh);/i],[d,[h,x]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[h,H],[f,b]],[/(?:honor)([-\w ]+)[;\)]/i],[d,[h,"Honor"],[f,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[h,_],[f,w]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[h,_],[f,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[d,/_/g," "],[h,D],[f,b]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[h,D],[f,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[h,"OPPO"],[f,b]],[/\b(opd2\d{3}a?) bui/i],[d,[h,"OPPO"],[f,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[h,"Vivo"],[f,b]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[h,"Realme"],[f,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[h,L],[f,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[h,L],[f,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[h,R],[f,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[h,R],[f,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[h,"Lenovo"],[f,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[h,"Nokia"],[f,b]],[/(pixel c)\b/i],[d,[h,P],[f,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[h,P],[f,b]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[h,M],[f,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[h,M],[f,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[h,"OnePlus"],[f,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[h,E],[f,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[h,E],[f,b]],[/(playbook);[-\w\),; ]+(rim)/i],[d,h,[f,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[h,O],[f,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[h,k],[f,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[h,k],[f,b]],[/(nexus 9)/i],[d,[h,"HTC"],[f,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[d,/_/g," "],[f,b]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[h,"TCL"],[f,w]],[/(itel) ((\w+))/i],[[h,W],d,[f,X,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[h,"Acer"],[f,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[h,"Meizu"],[f,b]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[h,"Ulefone"],[f,b]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[d,[h,"Energizer"],[f,b]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[d,[h,"Cat"],[f,b]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[d,[h,"Smartfren"],[f,b]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[h,"Nothing"],[f,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,d,[f,b]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,d,[f,w]],[/(surface duo)/i],[d,[h,N],[f,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[h,"Fairphone"],[f,b]],[/(u304aa)/i],[d,[h,"AT&T"],[f,b]],[/\bsie-(\w*)/i],[d,[h,"Siemens"],[f,b]],[/\b(rct\w+) b/i],[d,[h,"RCA"],[f,w]],[/\b(venue[\d ]{2,7}) b/i],[d,[h,"Dell"],[f,w]],[/\b(q(?:mv|ta)\w+) b/i],[d,[h,"Verizon"],[f,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[h,"Barnes & Noble"],[f,w]],[/\b(tm\d{3}\w+) b/i],[d,[h,"NuVision"],[f,w]],[/\b(k88) b/i],[d,[h,"ZTE"],[f,w]],[/\b(nx\d{3}j) b/i],[d,[h,"ZTE"],[f,b]],[/\b(gen\d{3}) b.+49h/i],[d,[h,"Swiss"],[f,b]],[/\b(zur\d{3}) b/i],[d,[h,"Swiss"],[f,w]],[/\b((zeki)?tb.*\b) b/i],[d,[h,"Zeki"],[f,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],d,[f,w]],[/\b(ns-?\w{0,9}) b/i],[d,[h,"Insignia"],[f,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[h,"NextBook"],[f,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],d,[f,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],d,[f,b]],[/\b(ph-1) /i],[d,[h,"Essential"],[f,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[h,"Envizen"],[f,w]],[/\b(trio[-\w\. ]+) b/i],[d,[h,"MachSpeed"],[f,w]],[/\btu_(1491) b/i],[d,[h,"Rotor"],[f,w]],[/(shield[\w ]+) b/i],[d,[h,"Nvidia"],[f,w]],[/(sprint) (\w+)/i],[h,d,[f,b]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[h,N],[f,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[h,z],[f,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[h,z],[f,b]],[/smart-tv.+(samsung)/i],[h,[f,y]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[h,U],[f,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,R],[f,y]],[/(apple) ?tv/i],[h,[d,x+" TV"],[f,y]],[/crkey/i],[[d,A+"cast"],[h,P],[f,y]],[/droid.+aft(\w+)( bui|\))/i],[d,[h,E],[f,y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[h,H],[f,y]],[/(bravia[\w ]+)( bui|\))/i],[d,[h,M],[f,y]],[/(mitv-\w{5}) bui/i],[d,[h,D],[f,y]],[/Hbbtv.*(technisat) (.*);/i],[h,d,[f,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,G],[d,G],[f,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,d,[f,v]],[/droid.+; (shield) bui/i],[d,[h,"Nvidia"],[f,v]],[/(playstation [345portablevi]+)/i],[d,[h,M],[f,v]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[h,N],[f,v]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[d,[h,U],[f,S]],[/((pebble))app/i],[h,d,[f,S]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[h,x],[f,S]],[/droid.+; (glass) \d/i],[d,[h,P],[f,S]],[/droid.+; (wt63?0{2,3})\)/i],[d,[h,z],[f,S]],[/droid.+; (glass) \d/i],[d,[h,P],[f,S]],[/(pico) (4|neo3(?: link|pro)?)/i],[h,d,[f,S]],[/; (quest( \d| pro)?)/i],[d,[h,q],[f,S]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[f,T]],[/(aeobc)\b/i],[d,[h,E],[f,T]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[f,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[f,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,b]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[p,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[p,g],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,g],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[g,X,Q]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,X,Q],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,F],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,g],[/\(bb(10);/i],[g,[p,O]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[p,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[p,A+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,B],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,g],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,g]]},Z=function(e,t){if(typeof e===l&&(t=e,e=s),!(this instanceof Z))return new Z(e,t).getResult();var i=typeof r!==a&&r.navigator?r.navigator:s,n=e||(i&&i.userAgent?i.userAgent:""),v=i&&i.userAgentData?i.userAgentData:s,y=t?function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i}(Y,t):Y,S=i&&i.userAgent==n;return this.getBrowser=function(){var e,t={};return t[p]=s,t[g]=s,J.call(t,n,y.browser),t[u]=typeof(e=t[g])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:s,S&&i&&i.brave&&typeof i.brave.isBrave==o&&(t[p]="Brave"),t},this.getCPU=function(){var e={};return e[m]=s,J.call(e,n,y.cpu),e},this.getDevice=function(){var e={};return e[h]=s,e[d]=s,e[f]=s,J.call(e,n,y.device),S&&!e[f]&&v&&v.mobile&&(e[f]=b),S&&"Macintosh"==e[d]&&i&&typeof i.standalone!==a&&i.maxTouchPoints&&i.maxTouchPoints>2&&(e[d]="iPad",e[f]=w),e},this.getEngine=function(){var e={};return e[p]=s,e[g]=s,J.call(e,n,y.engine),e},this.getOS=function(){var e={};return e[p]=s,e[g]=s,J.call(e,n,y.os),S&&!e[p]&&v&&v.platform&&"Unknown"!=v.platform&&(e[p]=v.platform.replace(/chrome os/i,B).replace(/macos/i,F)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>500?G(e,500):e,this},this.setUA(n),this};Z.VERSION="1.0.40",Z.BROWSER=K([p,g,u]),Z.CPU=K([m]),Z.DEVICE=K([d,h,f,v,b,y,w,S,T]),Z.ENGINE=Z.OS=K([p,g]),typeof t!==a?(e.exports&&(t=e.exports=Z),t.UAParser=Z):i.amdO?(n=function(){return Z}.call(t,i,t,e))===s||(e.exports=n):typeof r!==a&&(r.UAParser=Z);var ee=typeof r!==a&&(r.jQuery||r.Zepto);if(ee&&!ee.ua){var te=new Z;ee.ua=te.getResult(),ee.ua.get=function(){return te.getUA()},ee.ua.set=function(e){te.setUA(e);var t=te.getResult();for(var i in t)ee.ua[i]=t[i]}}}("object"==typeof window?window:this)},7781:e=>{"use strict";e.exports=l},8398:e=>{"use strict";e.exports=c},8531:e=>{"use strict";e.exports=u},8705:(e,t,i)=>{"use strict";i.d(t,{v:()=>f});var n=i(5438),r=i(9914),s=i(4696);function o(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function a(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}function l(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}(e,a(e,t,"set"),i),i}function c(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}var u=new WeakMap,d=new WeakSet;function p(e,t){var i;"prod"!==function(e,t){return t.get?t.get.call(e):t.value}(i=this,a(i,u,"get"))&&console[e](...t)}const f=new class{trace(){var e;c(this,d,p).call(this,"trace",[]),null===(e=(0,r.n1)())||void 0===e||e.api.pushLog([],{level:n.$b.TRACE})}debug(...e){var t;c(this,d,p).call(this,"debug",e),null===(t=(0,r.n1)())||void 0===t||t.api.pushLog(e,{level:n.$b.DEBUG})}info(...e){var t;c(this,d,p).call(this,"info",e),null===(t=(0,r.n1)())||void 0===t||t.api.pushLog(e,{level:n.$b.INFO})}log(...e){var t;c(this,d,p).call(this,"log",e),null===(t=(0,r.n1)())||void 0===t||t.api.pushLog(e,{level:n.$b.LOG})}warn(...e){var t;c(this,d,p).call(this,"warn",e),null===(t=(0,r.n1)())||void 0===t||t.api.pushLog(e,{level:n.$b.WARN})}error(e,t){var i;c(this,d,p).call(this,"error",[e]),t&&c(this,d,p).call(this,"error",["Error context",t]),null===(i=(0,r.n1)())||void 0===i||i.api.pushError(e,{context:t})}constructor(){var e,t;o(e=this,t=d),t.add(e),function(e,t,i){o(e,t),t.set(e,i)}(this,u,{writable:!0,value:void 0}),l(this,u,(0,s.u)())}}},8943:(e,t,i)=>{"use strict";i.d(t,{G:()=>s,s:()=>r});var n=i(2533);const r=n.id,s=`/a/${n.id}`},9914:(e,t,i)=>{"use strict";var n;i.d(t,{n1:()=>En,Js:()=>An,gu:()=>In}),function(e){e.EXCEPTION="exception",e.LOG="log",e.MEASUREMENT="measurement",e.TRACE="trace",e.EVENT="event"}(n||(n={}));const r={[n.EXCEPTION]:"exceptions",[n.LOG]:"logs",[n.MEASUREMENT]:"measurements",[n.TRACE]:"traces",[n.EVENT]:"events"};function s(e,t){return typeof e===t}function o(e,t){return Object.prototype.toString.call(e)===`[object ${t}]`}function a(e,t){try{return e instanceof t}catch(e){return!1}}const l=e=>s(e,"null"),c=e=>s(e,"string"),u=e=>s(e,"number")&&!isNaN(e)||s(e,"bigint"),d=e=>s(e,"boolean"),p=e=>!l(e)&&s(e,"object"),f=e=>s(e,"function"),h=e=>o(e,"Array"),g="undefined"!=typeof Event,m="undefined"!=typeof Error,v=e=>m&&a(e,Error);function b(e){return null==e||(h(e)||c(e)?0===e.length:!!p(e)&&0===Object.keys(e).length)}function w(e={}){return JSON.stringify(null!=e?e:{},function(){const e=new WeakSet;return function(t,i){if(p(i)&&null!==i){if(e.has(i))return null;e.add(i)}return i}}())}function y(e={}){const t={};for(const[i,n]of Object.entries(e))t[i]=p(n)&&null!==n?w(n):String(n);return t}function S(){return Date.now()}function T(){return(new Date).toISOString()}function E(e){return new Date(e).toISOString()}function x(e,t){if(e===t)return!0;if(s(e,"number")&&isNaN(e))return s(t,"number")&&isNaN(t);const i=h(e),n=h(t);if(i!==n)return!1;if(i&&n){const i=e.length;if(i!==t.length)return!1;for(let n=i;0!==n--;)if(!x(e[n],t[n]))return!1;return!0}const r=p(e),o=p(t);if(r!==o)return!1;if(e&&t&&r&&o){const i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(let e of i)if(!n.includes(e))return!1;for(let n of i)if(!x(e[n],t[n]))return!1;return!0}return!1}class k{constructor(){this.subscribers=[]}subscribe(e){return this.subscribers.push(e),{unsubscribe:()=>this.unsubscribe(e)}}unsubscribe(e){this.subscribers=this.subscribers.filter(t=>t!==e)}notify(e){this.subscribers.forEach(t=>t(e))}first(){const e=new k,t=t=>{e.notify(t),i.unsubscribe()},i=this.subscribe(t),n=e.unsubscribe.bind(e);return this.withUnsubscribeOverride(e,n,t)}takeWhile(e){const t=new k,i=n=>{e(n)?t.notify(n):t.unsubscribe(i)};this.subscribe(i);const n=t.unsubscribe.bind(t);return this.withUnsubscribeOverride(t,n,i)}filter(e){const t=new k,i=i=>{e(i)&&t.notify(i)};this.subscribe(i);const n=t.unsubscribe.bind(t);return this.withUnsubscribeOverride(t,n,i)}merge(...e){const t=new k,i=[];e.forEach(e=>{const n=e.subscribe(e=>{t.notify(e)});i.push(n)});const n=t.unsubscribeAll.bind(t);return t.unsubscribe=()=>{i.forEach(e=>e.unsubscribe()),n()},t}withUnsubscribeOverride(e,t,i){return e.unsubscribe=e=>{t(e),this.unsubscribe(i)},e}unsubscribeAll(){this.subscribers=[]}}const O="faroApiCall",I="user_action_start",A={Normal:"normal",Critical:"critical"};var C;!function(e){e[e.Started=0]="Started",e[e.Halted=1]="Halted",e[e.Cancelled=2]="Cancelled",e[e.Ended=3]="Ended"}(C||(C={}));const P="undefined"!=typeof globalThis?globalThis:void 0!==i.g?i.g:"undefined"!=typeof self?self:void 0;const _="_faroInternal";let R={};function N(e,t,i,n,r,s,o){return t.debug("Initializing Faro"),R={api:s,config:i,instrumentations:o,internalLogger:t,metas:n,pause:r.pause,transports:r,unpatchedConsole:e,unpause:r.unpause},function(e){e.config.isolate?e.internalLogger.debug("Skipping registering internal Faro instance on global object"):(e.internalLogger.debug("Registering internal Faro instance on global object"),Object.defineProperty(P,_,{configurable:!1,enumerable:!1,writable:!1,value:e}))}(R),function(e){if(e.config.preventGlobalExposure)e.internalLogger.debug("Skipping registering public Faro instance in the global scope");else{if(e.internalLogger.debug(`Registering public faro reference in the global scope using "${e.config.globalObjectKey}" key`),e.config.globalObjectKey in P)return void e.internalLogger.warn(`Skipping global registration due to key "${e.config.globalObjectKey}" being used already. Please set "globalObjectKey" to something else or set "preventGlobalExposure" to "true"`);Object.defineProperty(P,e.config.globalObjectKey,{configurable:!1,writable:!1,value:e})}}(R),R}const L="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ0123456789";function j(e=10){return Array.from(Array(e)).map(()=>L[Math.floor(59*Math.random())]).join("")}class U{constructor(){this.buffer=[]}addItem(e){this.buffer.push(e)}flushBuffer(e){if(f(e))for(const t of this.buffer)e(t);this.buffer.length=0}size(){return this.buffer.length}}class H extends k{constructor({name:e,parentId:t,trigger:i,transports:n,attributes:r,trackUserActionsExcludeItem:s,importance:o=A.Normal}){super(),this.name=e,this.attributes=r,this.id=j(),this.trigger=i,this.parentId=null!=t?t:this.id,this.trackUserActionsExcludeItem=s,this.importance=o,this._itemBuffer=new U,this._transports=n,this._state=C.Started,this._start()}addItem(e){return this._state===C.Started&&(this._itemBuffer.addItem(e),!0)}_start(){this._state=C.Started,this._state===C.Started&&(this.startTime=S())}halt(){this._state===C.Started&&(this._state=C.Halted,this.notify(this._state))}cancel(){this._state===C.Started&&this._itemBuffer.flushBuffer(),this._state=C.Cancelled,this.notify(this._state)}end(){if(this._state===C.Cancelled)return;const e=S(),t=e-this.startTime;this._state=C.Ended,this._itemBuffer.flushBuffer(e=>{if(function(e,t){return(null==t?void 0:t(e))||e.type===n.MEASUREMENT&&"web-vitals"===e.payload.type}(e,this.trackUserActionsExcludeItem))return void this._transports.execute(e);const t=Object.assign(Object.assign({},e),{payload:Object.assign(Object.assign({},e.payload),{action:{parentId:this.id,name:this.name}})});this._transports.execute(t)}),this._state=C.Ended,this.notify(this._state),R.api.pushEvent("faro.user.action",Object.assign({userActionName:this.name,userActionStartTime:this.startTime.toString(),userActionEndTime:e.toString(),userActionDuration:t.toString(),userActionTrigger:this.trigger,userActionImportance:this.importance},y(this.attributes)),void 0,{timestampOverwriteMs:this.startTime,customPayloadTransformer:e=>(e.action={id:this.id,name:this.name},e)})}getState(){return this._state}}const M=new k;function D(e,t){if(!e)return!1;return(null==e?void 0:e.getState())===C.Started&&(e.addItem(t),!0)}const z="Error",q=e=>e.map(e=>p(e)?w(e):String(e)).join(" ");let B;function F({internalLogger:e,config:t,metas:i,transports:r,tracesApi:s,userActionsApi:o}){var a;e.debug("Initializing exceptions API");let u=null;B=null!==(a=t.parseStacktrace)&&void 0!==a?a:B;const d=t=>{e.debug("Changing stacktrace parser"),B=null!=t?t:B},{ignoreErrors:f=[],preserveOriginalError:g}=t;return d(t.parseStacktrace),{changeStacktraceParser:d,getStacktraceParser:()=>B,pushError:(a,{skipDedupe:d,stackFrames:m,type:S,context:k,spanContext:O,timestampOverwriteMs:I,originalError:A}={})=>{if(!function(e,t){const{message:i,name:n,stack:r}=t;return s=e,o=i+" "+n+" "+r,s.some(e=>c(e)?o.includes(e):!!o.match(e));var s,o}(f,null!=A?A:a))try{const c=y(Object.assign(Object.assign({},function(e){let t=e.cause;v(t)?t=e.cause.toString():null!==t&&(p(e.cause)||h(e.cause))?t=w(e.cause):null!=t&&(t=e.cause.toString());return null==t?{}:{cause:t}}(null!=A?A:a)),null!=k?k:{})),f={meta:i.value,payload:Object.assign(Object.assign({type:S||a.name||z,value:a.message,timestamp:I?E(I):T(),trace:O?{trace_id:O.traceId,span_id:O.spanId}:s.getTraceContext()},b(c)?{}:{context:c}),g?{originalError:A}:{}),type:n.EXCEPTION};(null==(m=null!=m?m:a.stack?null==B?void 0:B(a).frames:void 0)?void 0:m.length)&&(f.payload.stacktrace={frames:m});const C={type:f.payload.type,value:f.payload.value,stackTrace:f.payload.stacktrace,context:f.payload.context};if(!d&&t.dedupe&&!l(u)&&x(C,u))return void e.debug("Skipping error push because it is the same as the last one\n",f.payload);u=C,e.debug("Pushing exception\n",f),D(o.getActiveUserAction(),f)||r.execute(f)}catch(t){e.error("Error pushing event",t)}}}}var $=i(5438);const K=e=>e.map(e=>{try{return String(e)}catch(e){return""}}).join(" ");function V(e,t,i,r,s){t.debug("Initializing API");const o=function({transports:e,internalLogger:t,config:i}){var n;const r=null===(n=i.userActionsInstrumentation)||void 0===n?void 0:n.excludeItem;let s;const o=()=>s,a={startUserAction:(i,n,a)=>{if(void 0===o()){const t=new H({name:i,transports:e,attributes:n,trigger:(null==a?void 0:a.triggerName)||O,importance:(null==a?void 0:a.importance)||A.Normal,trackUserActionsExcludeItem:r});return t.filter(e=>[C.Ended,C.Cancelled].includes(e)).first().subscribe(()=>{s=void 0}),M.notify({type:I,userAction:t}),s=t,s}t.error("Attempted to create a new user action while one is already running. This is not possible.")},getActiveUserAction:o};return a}({transports:s,config:i,internalLogger:t}),a=function(e,t,i,r,s){let o;return t.debug("Initializing traces API"),{getOTEL:()=>o,getTraceContext:()=>{const e=null==o?void 0:o.trace.getSpanContext(o.context.active());return e?{trace_id:e.traceId,span_id:e.spanId}:void 0},initOTEL:(e,i)=>{t.debug("Initializing OpenTelemetry"),o={trace:e,context:i}},isOTELInitialized:()=>!!o,pushTraces:e=>{try{const i={type:n.TRACE,payload:e,meta:r.value};t.debug("Pushing trace\n",i),s.execute(i)}catch(e){t.error("Error pushing trace\n",e)}}}}(0,t,0,r,s),u={unpatchedConsole:e,internalLogger:t,userActionsApi:o,config:i,metas:r,transports:s,tracesApi:a};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a),F(u)),function({internalLogger:e,metas:t}){let i,n,r,s;e.debug("Initializing meta API");const o=e=>{n&&t.remove(n),n={user:e},t.add(n)},a=(e,n)=>{var r;const s=null==n?void 0:n.overrides,o=s?{overrides:Object.assign(Object.assign({},null===(r=null==i?void 0:i.session)||void 0===r?void 0:r.overrides),s)}:{};i&&t.remove(i),i={session:Object.assign(Object.assign({},b(e)?void 0:e),o)},t.add(i)},l=()=>t.value.session,u=()=>t.value.page;return{setUser:o,resetUser:o,setSession:a,resetSession:a,getSession:l,setView:(e,i)=>{var n;if((null==i?void 0:i.overrides)&&a(l(),{overrides:i.overrides}),(null===(n=null==r?void 0:r.view)||void 0===n?void 0:n.name)===(null==e?void 0:e.name))return;const s=r;r={view:e},t.add(r),s&&t.remove(s)},getView:()=>t.value.view,setPage:e=>{var i;const n=c(e)?Object.assign(Object.assign({},null!==(i=null==s?void 0:s.page)&&void 0!==i?i:u()),{id:e}):e;s&&t.remove(s),s={page:n},t.add(s)},getPage:u}}(u)),function({internalLogger:e,config:t,metas:i,transports:r,tracesApi:s,userActionsApi:o}){var a;e.debug("Initializing logs API");let c=null;const u=null!==(a=t.logArgsSerializer)&&void 0!==a?a:K;return{pushLog:(a,{context:d,level:p,skipDedupe:f,spanContext:h,timestampOverwriteMs:g}={})=>{try{const m=y(d),v={type:n.LOG,payload:{message:u(a),level:null!=p?p:$.Ic,context:b(m)?void 0:m,timestamp:g?E(g):T(),trace:h?{trace_id:h.traceId,span_id:h.spanId}:s.getTraceContext()},meta:i.value},w={message:v.payload.message,level:v.payload.level,context:v.payload.context};if(!f&&t.dedupe&&!l(c)&&x(w,c))return void e.debug("Skipping log push because it is the same as the last one\n",v.payload);c=w,e.debug("Pushing log\n",v),D(o.getActiveUserAction(),v)||r.execute(v)}catch(t){e.error("Error pushing log\n",t)}}}}(u)),function({internalLogger:e,config:t,metas:i,transports:r,tracesApi:s,userActionsApi:o}){e.debug("Initializing measurements API");let a=null;return{pushMeasurement:(c,{skipDedupe:u,context:d,spanContext:p,timestampOverwriteMs:f}={})=>{try{const h=y(d),g={type:n.MEASUREMENT,payload:Object.assign(Object.assign({},c),{trace:p?{trace_id:p.traceId,span_id:p.spanId}:s.getTraceContext(),timestamp:f?E(f):T(),context:b(h)?void 0:h}),meta:i.value},m={type:g.payload.type,values:g.payload.values,context:g.payload.context};if(!u&&t.dedupe&&!l(a)&&x(m,a))return void e.debug("Skipping measurement push because it is the same as the last one\n",g.payload);a=m,e.debug("Pushing measurement\n",g),D(o.getActiveUserAction(),g)||r.execute(g)}catch(t){e.error("Error pushing measurement\n",t)}}}}(u)),function({internalLogger:e,config:t,metas:i,transports:r,tracesApi:s,userActionsApi:o}){let a=null;return{pushEvent:(c,u,d,{skipDedupe:p,spanContext:f,timestampOverwriteMs:h,customPayloadTransformer:g=e=>e}={})=>{try{const m=y(u),v={meta:i.value,payload:g({name:c,domain:null!=d?d:t.eventDomain,attributes:b(m)?void 0:m,timestamp:h?E(h):T(),trace:f?{trace_id:f.traceId,span_id:f.spanId}:s.getTraceContext()}),type:n.EVENT},w={name:v.payload.name,attributes:v.payload.attributes,domain:v.payload.domain};if(!p&&t.dedupe&&!l(a)&&x(w,a))return void e.debug("Skipping event push because it is the same as the last one\n",v.payload);a=w,e.debug("Pushing event\n",v),D(o.getActiveUserAction(),v)||r.execute(v)}catch(t){e.error("Error pushing event",t)}}}}(u)),o)}function W(){}var G;!function(e){e[e.OFF=0]="OFF",e[e.ERROR=1]="ERROR",e[e.WARN=2]="WARN",e[e.INFO=3]="INFO",e[e.VERBOSE=4]="VERBOSE"}(G||(G={}));const J={debug:W,error:W,info:W,prefix:"Faro",warn:W},X=G.ERROR,Q=Object.assign({},console);function Y(e=Q,t=X){const i=J;return t>G.OFF&&(i.error=t>=G.ERROR?function(...t){e.error(`${i.prefix}\n`,...t)}:W,i.warn=t>=G.WARN?function(...t){e.warn(`${i.prefix}\n`,...t)}:W,i.info=t>=G.INFO?function(...t){e.info(`${i.prefix}\n`,...t)}:W,i.debug=t>=G.VERBOSE?function(...t){e.debug(`${i.prefix}\n`,...t)}:W),i}let Z=J;function ee(e,t){return Z=Y(e,t.internalLoggerLevel),Z}const te="2.0.2";class ie{constructor(e,t){var i,n;this.signalBuffer=[],this.itemLimit=null!==(i=null==t?void 0:t.itemLimit)&&void 0!==i?i:50,this.sendTimeout=null!==(n=null==t?void 0:t.sendTimeout)&&void 0!==n?n:250,this.paused=(null==t?void 0:t.paused)||!1,this.sendFn=e,this.flushInterval=-1,this.paused||this.start(),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&this.flush()})}addItem(e){this.paused||(this.signalBuffer.push(e),this.signalBuffer.length>=this.itemLimit&&this.flush())}start(){this.paused=!1,this.sendTimeout>0&&(this.flushInterval=window.setInterval(()=>this.flush(),this.sendTimeout))}pause(){this.paused=!0,clearInterval(this.flushInterval)}groupItems(e){const t=new Map;return e.forEach(e=>{const i=JSON.stringify(e.meta);let n=t.get(i);n=void 0===n?[e]:[...n,e],t.set(i,n)}),Array.from(t.values())}flush(){if(this.paused||0===this.signalBuffer.length)return;this.groupItems(this.signalBuffer).forEach(this.sendFn),this.signalBuffer=[]}}function ne(e,t,i,n){var r;t.debug("Initializing transports");const s=[];let o=i.paused,a=[];const l=e=>{let t=e;for(const e of a){const n=t.map(e).filter(Boolean);if(0===n.length)return[];t=re(n,i)}return t},c=e=>{const i=l(e);if(0!==i.length)for(const e of s)t.debug(`Transporting item using ${e.name}\n`,i),e.isBatched()&&e.send(i)};let u;(null===(r=i.batching)||void 0===r?void 0:r.enabled)&&(u=new ie(c,{sendTimeout:i.batching.sendTimeout,itemLimit:i.batching.itemLimit,paused:o}));return{add:(...r)=>{t.debug("Adding transports"),r.forEach(r=>{t.debug(`Adding "${r.name}" transport`);s.some(e=>e===r)?t.warn(`Transport ${r.name} is already added`):(r.unpatchedConsole=e,r.internalLogger=t,r.config=i,r.metas=n,s.push(r))})},addBeforeSendHooks:(...e)=>{t.debug("Adding beforeSendHooks\n",a),e.forEach(e=>{e&&a.push(e)})},getBeforeSendHooks:()=>[...a],execute:e=>{var n;o||((null===(n=i.batching)||void 0===n?void 0:n.enabled)&&(null==u||u.addItem(e)),(e=>{var n,r;if((null===(n=i.batching)||void 0===n?void 0:n.enabled)&&s.every(e=>e.isBatched()))return;const[o]=l([e]);if(void 0!==o)for(const e of s)t.debug(`Transporting item using ${e.name}\n`,o),e.isBatched()?(null===(r=i.batching)||void 0===r?void 0:r.enabled)||e.send([o]):e.send(o)})(e))},isPaused:()=>o,pause:()=>{t.debug("Pausing transports"),null==u||u.pause(),o=!0},remove:(...e)=>{t.debug("Removing transports"),e.forEach(e=>{t.debug(`Removing "${e.name}" transport`);const i=s.indexOf(e);-1!==i?s.splice(i,1):t.warn(`Transport "${e.name}" is not added`)})},removeBeforeSendHooks:(...e)=>{a.filter(t=>!e.includes(t))},get transports(){return[...s]},unpause:()=>{t.debug("Unpausing transports"),null==u||u.start(),o=!1}}}function re(e,t){if(t.preserveOriginalError)for(const t of e)t.type===n.EXCEPTION&&delete t.payload.originalError;return e}let se=Q;function oe(e){var t;return se=null!==(t=e.unpatchedConsole)&&void 0!==t?t:se,se}function ae(e){const t=oe(e),i=ee(t,e);if(_ in P&&!e.isolate)return void i.error('Faro is already registered. Either add instrumentations, transports etc. to the global faro instance or use the "isolate" property');i.debug("Initializing");const n=function(e,t){let i=[],n=[];const r=()=>i.reduce((e,t)=>Object.assign(e,f(t)?t():t),{}),s=()=>{if(n.length){const e=r();n.forEach(t=>t(e))}};return{add:(...e)=>{t.debug("Adding metas\n",e),i.push(...e),s()},remove:(...e)=>{t.debug("Removing metas\n",e),i=i.filter(t=>!e.includes(t)),s()},addListener:e=>{t.debug("Adding metas listener\n",e),n.push(e)},removeListener:e=>{t.debug("Removing metas listener\n",e),n=n.filter(t=>t!==e)},get value(){return r()}}}(0,i),r=ne(t,i,e,n),s=V(t,i,e,n,r),o=function(e,t,i,n,r,s){t.debug("Initializing instrumentations");const o=[];return{add:(...a)=>{t.debug("Adding instrumentations"),a.forEach(a=>{t.debug(`Adding "${a.name}" instrumentation`),o.some(e=>e.name===a.name)?t.warn(`Instrumentation ${a.name} is already added`):(a.unpatchedConsole=e,a.internalLogger=t,a.config=i,a.metas=n,a.transports=r,a.api=s,o.push(a),a.initialize())})},get instrumentations(){return[...o]},remove:(...e)=>{t.debug("Removing instrumentations"),e.forEach(e=>{var i,n;t.debug(`Removing "${e.name}" instrumentation`);const r=o.reduce((t,i,n)=>null===t&&i.name===e.name?n:null,null);null!==r?(null===(n=(i=o[r]).destroy)||void 0===n||n.call(i),o.splice(r,1)):t.warn(`Instrumentation "${e.name}" is not added`)})}}}(t,i,e,n,r,s),a=N(t,i,e,n,r,s,o);return function(e){var t,i;const n={sdk:{version:te},app:{bundleId:e.config.app.name&&(r=e.config.app.name,null==P?void 0:P[`__faroBundleId_${r}`])}};var r;const s=null===(t=e.config.sessionTracking)||void 0===t?void 0:t.session;s&&e.api.setSession(s),e.config.app&&(n.app=Object.assign(Object.assign({},e.config.app),n.app)),e.config.user&&(n.user=e.config.user),e.config.view&&(n.view=e.config.view),e.metas.add(n,...null!==(i=e.config.metas)&&void 0!==i?i:[])}(a),function(e){e.transports.add(...e.config.transports),e.transports.addBeforeSendHooks(e.config.beforeSend)}(a),function(e){e.instrumentations.add(...e.config.instrumentations)}(a),a}const le="faro",ce={enabled:!0,sendTimeout:250,itemLimit:50},ue="browser",de="\n",pe="eval",fe="?",he="@",ge=/^\s*at (?:(?![a-z]+:\/\/)([^(]+?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,me=/\((\S*)(?::(\d+))(?::(\d+))\)/,ve="eval",be="address at ",we=be.length,ye=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Se=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Te=" > eval",Ee="safari-extension",xe="safari-web-extension",ke=/Minified React error #\d+;/i;function Oe(e,t,i,n){const r={filename:e||document.location.href,function:t||fe};return void 0!==i&&(r.lineno=i),void 0!==n&&(r.colno=n),r}function Ie(e,t){const i=null==e?void 0:e.includes(Ee),n=!i&&(null==e?void 0:e.includes(xe));return i||n?[(null==e?void 0:e.includes(he))?e.split(he)[0]:e,i?`${Ee}:${t}`:`${xe}:${t}`]:[e,t]}function Ae(e){let t=[];e.stacktrace?t=e.stacktrace.split(de).filter((e,t)=>t%2==0):e.stack&&(t=e.stack.split(de));const i=t.reduce((t,i,n)=>{let r,s,o,a,l;if(r=ge.exec(i)){if(s=r[1],o=r[2],a=r[3],l=r[4],null==o?void 0:o.startsWith(ve)){const e=me.exec(o);e&&(o=e[1],a=e[2],l=e[3])}o=(null==o?void 0:o.startsWith(be))?o.substring(we):o,[s,o]=Ie(s,o)}else if(r=ye.exec(i)){if(s=r[1],o=r[3],a=r[4],l=r[5],o&&o.includes(Te)){const e=Se.exec(o);e&&(s=s||pe,o=e[1],a=e[2])}else 0===n&&!l&&u(e.columnNumber)&&(l=String(e.columnNumber+1));[s,o]=Ie(s,o)}return(o||s)&&t.push(Oe(o,s,a?Number(a):void 0,l?Number(l):void 0)),t},[]);return ke.test(e.message)?i.slice(1):i}function Ce(e){return{frames:Ae(e)}}const Pe="com.grafana.faro.session",_e=9e5,Re={enabled:!0,persistent:!1,maxSessionPersistenceTime:_e},Ne="data-faro-user-action-name";var Le=i(6660);const je="unknown",Ue=()=>{const e=new Le.UAParser,{name:t,version:i}=e.getBrowser(),{name:n,version:r}=e.getOS(),s=e.getUA(),o=navigator.language,a=navigator.userAgent.includes("Mobi"),l=function(){if(!t||!i)return;if("userAgentData"in navigator&&navigator.userAgentData)return navigator.userAgentData.brands;return}();return{browser:{name:null!=t?t:je,version:null!=i?i:je,os:`${null!=n?n:je} ${null!=r?r:je}`,userAgent:null!=s?s:je,language:null!=o?o:je,mobile:a,brands:null!=l?l:je,viewportWidth:`${window.innerWidth}`,viewportHeight:`${window.innerHeight}`}}},He=()=>{const e=window.k6;return{k6:Object.assign({isK6Browser:!0},(null==e?void 0:e.testRunId)&&{testRunId:null==e?void 0:e.testRunId})}};let Me,De;function ze({generatePageId:e,initialPageMeta:t}={}){return()=>{const i=location.href;return f(e)&&Me!==i&&(Me=i,De=e(location)),{page:Object.assign(Object.assign({url:i},De?{id:De}:{}),t)}}}class qe{constructor(){this.unpatchedConsole=Q,this.internalLogger=J,this.config={},this.metas={}}logDebug(...e){this.internalLogger.debug(`${this.name}\n`,...e)}logInfo(...e){this.internalLogger.info(`${this.name}\n`,...e)}logWarn(...e){this.internalLogger.warn(`${this.name}\n`,...e)}logError(...e){this.internalLogger.error(`${this.name}\n`,...e)}}class Be extends qe{isBatched(){return!1}getIgnoreUrls(){return[]}}function Fe(e,t){var i,n;if(void 0===t)return e;if(void 0===e)return{resourceSpans:t};const r=null===(i=e.resourceSpans)||void 0===i?void 0:i[0];if(void 0===r)return e;const s=(null==r?void 0:r.scopeSpans)||[],o=(null===(n=null==t?void 0:t[0])||void 0===n?void 0:n.scopeSpans)||[];return Object.assign(Object.assign({},e),{resourceSpans:[Object.assign(Object.assign({},r),{scopeSpans:[...s,...o]})]})}function $e(e,t){let i,n=!1;const r=()=>{null!=i?(e(...i),i=null,setTimeout(r,t)):n=!1};return(...s)=>{n?i=s:(e(...s),n=!0,setTimeout(r,t))}}const Ke="sessionStorage",Ve="localStorage";function We(e){var t;try{let t;t=window[e];const i="__faro_storage_test__";return t.setItem(i,i),t.removeItem(i),!0}catch(i){return null===(t=R.internalLogger)||void 0===t||t.info(`Web storage of type ${e} is not available. Reason: ${i}`),!1}}function Ge(e,t){return Ze(t)?window[t].getItem(e):null}function Je(e,t,i){if(Ze(i))try{window[i].setItem(e,t)}catch(e){}}function Xe(e,t){Ze(t)&&window[t].removeItem(e)}const Qe=We(Ve),Ye=We(Ke);function Ze(e){return e===Ve?Qe:e===Ke&&Ye}const et="session_start",tt="session_resume",it="service_name_override";function nt(){var e,t,i;const n=R.config.sessionTracking;let r=null!==(i=null!==(t=null===(e=null==n?void 0:n.sampler)||void 0===e?void 0:e.call(n,{metas:R.metas.value}))&&void 0!==t?t:null==n?void 0:n.samplingRate)&&void 0!==i?i:1;if("number"!=typeof r){r=0}return Math.random()<r}function rt({sessionId:e,started:t,lastActivity:i,isSampled:n=!0}={}){var r,s;const o=S(),a=null===(s=null===(r=R.config)||void 0===r?void 0:r.sessionTracking)||void 0===s?void 0:s.generateSessionId;return null==e&&(e="function"==typeof a?a():j()),{sessionId:e,lastActivity:null!=i?i:o,started:null!=t?t:o,isSampled:n}}function st(e){if(null==e)return!1;const t=S();if(!(t-e.started<144e5))return!1;return t-e.lastActivity<_e}function ot({fetchUserSession:e,storeUserSession:t}){return function({forceSessionExtend:i}={forceSessionExtend:!1}){var n,r,s;if(!e||!t)return;const o=R.config.sessionTracking,a=null==o?void 0:o.persistent;if(a&&!Qe||!a&&!Ye)return;const l=e();if(!1===i&&st(l))t(Object.assign(Object.assign({},l),{lastActivity:S()}));else{let e=at(rt({isSampled:nt()}),l);t(e),null===(n=R.api)||void 0===n||n.setSession(e.sessionMeta),null===(r=null==o?void 0:o.onSessionChange)||void 0===r||r.call(o,null!==(s=null==l?void 0:l.sessionMeta)&&void 0!==s?s:null,e.sessionMeta)}}}function at(e,t){var i,n,r,s,o,a,l;const c=Object.assign(Object.assign({},e),{sessionMeta:{id:e.sessionId,attributes:Object.assign(Object.assign(Object.assign({},null===(n=null===(i=R.config.sessionTracking)||void 0===i?void 0:i.session)||void 0===n?void 0:n.attributes),null!==(s=null===(r=R.metas.value.session)||void 0===r?void 0:r.attributes)&&void 0!==s?s:{}),{isSampled:e.isSampled.toString()})}}),u=null!==(a=null===(o=R.metas.value.session)||void 0===o?void 0:o.overrides)&&void 0!==a?a:null===(l=null==t?void 0:t.sessionMeta)||void 0===l?void 0:l.overrides;b(u)||(c.sessionMeta.overrides=u);const d=null==t?void 0:t.sessionId;return null!=d&&(c.sessionMeta.attributes.previousSession=d),c}function lt({fetchUserSession:e,storeUserSession:t}){return function(i){const n=i.session,r=e();let s=null==n?void 0:n.id;const o=null==n?void 0:n.attributes,a=null==n?void 0:n.overrides,l=null==r?void 0:r.sessionMeta,c=null==l?void 0:l.overrides,u=!!a&&!x(a,c),d=!!o&&!x(o,null==l?void 0:l.attributes);if(!!n&&s!==(null==r?void 0:r.sessionId)||d||u){const e=at(rt({sessionId:s,isSampled:nt()}),r);t(e),function(e,t={},i={}){var n,r,s;if(!e)return;const o=t.serviceName,a=null!==(s=null!==(n=i.serviceName)&&void 0!==n?n:null===(r=R.metas.value.app)||void 0===r?void 0:r.name)&&void 0!==s?s:"";o&&o!==a&&R.api.pushEvent(it,{serviceName:o,previousServiceName:a})}(u,a,c),R.api.setSession(e.sessionMeta)}}}class ct{constructor(){this.updateSession=$e(()=>this.updateUserSession(),1e3),this.updateUserSession=ot({fetchUserSession:ct.fetchUserSession,storeUserSession:ct.storeUserSession}),this.init()}static removeUserSession(){Xe(Pe,ct.storageTypeLocal)}static storeUserSession(e){Je(Pe,w(e),ct.storageTypeLocal)}static fetchUserSession(){const e=Ge(Pe,ct.storageTypeLocal);return e?JSON.parse(e):null}init(){document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&this.updateSession()}),R.metas.addListener(lt({fetchUserSession:ct.fetchUserSession,storeUserSession:ct.storeUserSession}))}}ct.storageTypeLocal=Ve;class ut{constructor(){this.updateSession=$e(()=>this.updateUserSession(),1e3),this.updateUserSession=ot({fetchUserSession:ut.fetchUserSession,storeUserSession:ut.storeUserSession}),this.init()}static removeUserSession(){Xe(Pe,ut.storageTypeSession)}static storeUserSession(e){Je(Pe,w(e),ut.storageTypeSession)}static fetchUserSession(){const e=Ge(Pe,ut.storageTypeSession);return e?JSON.parse(e):null}init(){document.addEventListener("visibilitychange",()=>{"visible"===document.visibilityState&&this.updateSession()}),R.metas.addListener(lt({fetchUserSession:ut.fetchUserSession,storeUserSession:ut.storeUserSession}))}}function dt(e){return(null==e?void 0:e.persistent)?ct:ut}ut.storageTypeSession=Ke;var pt=function(e,t,i,n){return new(i||(i=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})},ft=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};class ht extends Be{constructor(e){var t,i,n,r;super(),this.options=e,this.name="@grafana/faro-web-sdk:transport-fetch",this.version=te,this.disabledUntil=new Date,this.rateLimitBackoffMs=null!==(t=e.defaultRateLimitBackoffMs)&&void 0!==t?t:5e3,this.getNow=null!==(i=e.getNow)&&void 0!==i?i:()=>Date.now(),this.promiseBuffer=function(e){const{size:t,concurrency:i}=e,n=[];let r=0;const s=()=>{if(r<i&&n.length){const{producer:e,resolve:t,reject:i}=n.shift();r++,e().then(e=>{r--,s(),t(e)},e=>{r--,s(),i(e)})}};return{add:e=>{if(n.length+r>=t)throw new Error("Task buffer full");return new Promise((t,i)=>{n.push({producer:e,resolve:t,reject:i}),s()})}}}({size:null!==(n=e.bufferSize)&&void 0!==n?n:30,concurrency:null!==(r=e.concurrency)&&void 0!==r?r:5})}send(e){return pt(this,void 0,void 0,function*(){try{if(this.disabledUntil>new Date(this.getNow()))return this.logWarn(`Dropping transport item due to too many requests. Backoff until ${this.disabledUntil}`),Promise.resolve();yield this.promiseBuffer.add(()=>{const t=JSON.stringify(function(e){let t={meta:{}};return void 0!==e[0]&&(t.meta=e[0].meta),e.forEach(e=>{switch(e.type){case n.LOG:case n.EVENT:case n.EXCEPTION:case n.MEASUREMENT:{const i=r[e.type],n=t[i];t=Object.assign(Object.assign({},t),{[i]:void 0===n?[e.payload]:[...n,e.payload]});break}case n.TRACE:t=Object.assign(Object.assign({},t),{traces:Fe(t.traces,e.payload.resourceSpans)})}}),t}(e)),{url:i,requestOptions:s,apiKey:o}=this.options,a=null!=s?s:{},{headers:l}=a,c=ft(a,["headers"]);let u;const d=this.metas.value.session;return null!=d&&(u=d.id),fetch(i,Object.assign({method:"POST",headers:Object.assign(Object.assign(Object.assign({"Content-Type":"application/json"},null!=l?l:{}),o?{"x-api-key":o}:{}),u?{"x-faro-session-id":u}:{}),body:t,keepalive:t.length<=6e4},null!=c?c:{})).then(e=>pt(this,void 0,void 0,function*(){if(202===e.status){"invalid"===e.headers.get("X-Faro-Session-Status")&&this.extendFaroSession(this.config,this.logDebug)}return 429===e.status&&(this.disabledUntil=this.getRetryAfterDate(e),this.logWarn(`Too many requests, backing off until ${this.disabledUntil}`)),e.text().catch(W),e})).catch(e=>{this.logError("Failed sending payload to the receiver\n",JSON.parse(t),e)})})}catch(e){this.logError(e)}})}getIgnoreUrls(){var e;return[this.options.url].concat(null!==(e=this.config.ignoreUrls)&&void 0!==e?e:[])}isBatched(){return!0}getRetryAfterDate(e){const t=this.getNow(),i=e.headers.get("Retry-After");if(i){const e=Number(i);if(!isNaN(e))return new Date(1e3*e+t);const n=Date.parse(i);if(!isNaN(n))return new Date(n)}return new Date(t+this.rateLimitBackoffMs)}extendFaroSession(e,t){const i="Session expired",n=e.sessionTracking;if(null==n?void 0:n.enabled){const{fetchUserSession:e,storeUserSession:r}=dt(n);ot({fetchUserSession:e,storeUserSession:r})({forceSessionExtend:!0}),t(`${i} created new session.`)}else t(`${i}.`)}}class gt extends qe{constructor(){super(...arguments),this.api={},this.transports={}}}const mt="http-request-start",vt="http-request-end";let bt,wt;function yt(){return bt||(bt=new k),wt||(wt=new MutationObserver((e,t)=>{bt.notify({type:"dom-mutation"})}),wt.observe(document,{attributes:!0,childList:!0,subtree:!0,characterData:!0})),bt}function St(e=""){return R.transports.transports.flatMap(e=>e.getIgnoreUrls()).some(t=>e&&null!=e.match(t))}const Tt="fetch",Et="xhr";let xt,kt,Ot,It=!1;function At(){if(xt)return xt;function e(e){xt.notify({type:mt,request:e})}function t(e){xt.notify({type:vt,request:e})}return xt=new k,It||(!function({onRequestEnd:e,onRequestStart:t}){Ot||(Ot=window.fetch);window.fetch=function(){var i,n;const r=null!==(i=c(s=arguments[0])?s:s instanceof URL?s.href:!b(s)&&f(null==s?void 0:s.toString)?s.toString():void 0)&&void 0!==i?i:"";var s;const o=St(r),a=(null!==(n=arguments[1])&&void 0!==n?n:{}).method,l=j();return o||t({url:r,method:a,requestId:l,apiType:Tt}),Ot.apply(this,arguments).then(t=>(o||e({url:r,method:a,requestId:l,apiType:Tt}),t)).catch(t=>{throw o||e({url:r,method:a,requestId:l,apiType:Tt}),t})}}({onRequestStart:e,onRequestEnd:t}),function({onRequestStart:e,onRequestEnd:t}){kt||(kt=XMLHttpRequest.prototype.open);XMLHttpRequest.prototype.open=function(){const i=arguments[1],n=St(i),r=arguments[0],s=j();this.addEventListener("loadstart",function(){n||e({url:i,method:r,requestId:s,apiType:Et})}),this.addEventListener("load",function(){n||t({url:i,method:r,requestId:s,apiType:Et})}),this.addEventListener("error",function(){n||t({url:i,method:r,requestId:s,apiType:Et})}),this.addEventListener("abort",function(){n||t({url:i,method:r,requestId:s,apiType:Et})}),kt.apply(this,arguments)}}({onRequestStart:e,onRequestEnd:t}),It=!0),xt}const Ct="com.grafana.faro.lastNavigationId",Pt="resource",_t=/^00-[a-f0-9]{32}-[a-f0-9]{16}-[0-9]{1,2}$/;function Rt(e=[]){for(const t of e)if("traceparent"===t.name){if(!_t.test(t.description))continue;const[,e,i]=t.description.split("-");if(null!=e&&null!=i)return{traceId:e,spanId:i};break}}function Nt(e,t={}){for(const[i,n]of Object.entries(t)){const t=e[i];return null!=t&&(h(n)?n.includes(t):t===n)}return!0}function Lt(e){const{connectEnd:t,connectStart:i,decodedBodySize:n,domainLookupEnd:r,domainLookupStart:s,duration:o,encodedBodySize:a,fetchStart:l,initiatorType:c,name:u,nextHopProtocol:d,redirectEnd:p,redirectStart:f,renderBlockingStatus:h,requestStart:g,responseEnd:m,responseStart:v,responseStatus:b,secureConnectionStart:w,transferSize:y,workerStart:S}=e;return{name:u,duration:Ut(o),tcpHandshakeTime:Ut(t-i),dnsLookupTime:Ut(r-s),tlsNegotiationTime:Ut(t-w),responseStatus:Ut(b),redirectTime:Ut(p-f),requestTime:Ut(v-g),responseTime:Ut(m-v),fetchTime:Ut(m-l),serviceWorkerTime:Ut(l-S),decodedBodySize:Ut(n),encodedBodySize:Ut(a),cacheHitStatus:function(){let e="fullLoad";0===y?n>0&&(e="cache"):null!=b?304===b&&(e="conditionalFetch"):a>0&&y<a&&(e="conditionalFetch");return e}(),renderBlockingStatus:Ut(h),protocol:d,initiatorType:c,visibilityState:document.visibilityState,ttfb:Ut(v-g),transferSize:Ut(y)}}function jt(e){const{activationStart:t,domComplete:i,domContentLoadedEventEnd:n,domContentLoadedEventStart:r,domInteractive:s,fetchStart:o,loadEventEnd:a,loadEventStart:l,responseStart:c,type:u}=e,d=function(){var e;if(null!=(null===(e=performance.timing)||void 0===e?void 0:e.domLoading))return performance.timing.domLoading-performance.timeOrigin;return null}();return Object.assign(Object.assign({},Lt(e)),{pageLoadTime:Ut(i-o),documentParsingTime:Ut(d?s-d:null),domProcessingTime:Ut(i-s),domContentLoadHandlerTime:Ut(n-r),onLoadTime:Ut(a-l),ttfb:Ut(Math.max(c-(null!=t?t:0),0)),type:u})}function Ut(e){return null==e?je:"number"==typeof e?Math.round(e>0?e:0).toString():e.toString()}const Ht={initiatorType:["xmlhttprequest","fetch"]};var Mt=function(e,t,i,n){return new(i||(i=Promise))(function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};const Dt=new k;class zt extends gt{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-performance",this.version=te}initialize(){"PerformanceObserver"in window?function(e){if("complete"===document.readyState)e();else{const t=()=>{"complete"===document.readyState&&(e(),document.removeEventListener("readystatechange",t))};document.addEventListener("readystatechange",t)}}(()=>Mt(this,void 0,void 0,function*(){const e=this.api.pushEvent,{faroNavigationId:t}=yield function(e){let t;const i=new Promise(e=>{t=e});return new PerformanceObserver(i=>{var n;const[r]=i.getEntries();if(null==r||St(r.name))return;const s=r.toJSON();let o=Rt(null==s?void 0:s.serverTiming);const a=null!==(n=Ge(Ct,Ke))&&void 0!==n?n:je,l=Object.assign(Object.assign({},jt(s)),{faroNavigationId:j(),faroPreviousNavigationId:a});Je(Ct,l.faroNavigationId,Ke),e("faro.performance.navigation",l,void 0,{spanContext:o,timestampOverwriteMs:performance.timeOrigin+s.startTime}),t(l)}).observe({type:"navigation",buffered:!0}),i}(e);null!=t&&function(e,t,i){const n=R.config.trackResources;new PerformanceObserver(r=>{const s=r.getEntries();for(const r of s){if(St(r.name))continue;null==i||i.notify({type:Pt});const s=r.toJSON();let o=Rt(null==s?void 0:s.serverTiming);if(null==n&&Nt(s,Ht)||n){const i=Object.assign(Object.assign({},Lt(s)),{faroNavigationId:e,faroResourceId:j()});t("faro.performance.resource",i,void 0,{spanContext:o,timestampOverwriteMs:performance.timeOrigin+s.startTime})}}}).observe({type:Pt,buffered:!0})}(t,e,Dt)})):this.logDebug("performance observer not supported. Disable performance instrumentation.")}}let qt,Bt,Ft=!1;function $t(e){return e.type===vt}class Kt{constructor(e){this.userAction=e,this.http=At(),this.dom=yt(),this.perf=(qt||(qt=new k),Ft||(Bt=Dt.subscribe(e=>{e.type===Pt&&qt.notify({type:"resource-entry"})}),Ft=!0),qt),this.isValid=!1,this.runningRequests=new Map}attach(){this.allMonitorsSub=(new k).merge(this.http,this.dom,this.perf).takeWhile(()=>[C.Started,C.Halted].includes(this.userAction.getState())).filter(e=>!!(this.userAction.getState()!==C.Halted||$t(e)&&this.runningRequests.has(e.request.requestId))).subscribe(e=>{(function(e){return e.type===mt})(e)&&this.runningRequests.set(e.request.requestId,e.request),$t(e)&&this.runningRequests.delete(e.request.requestId),$t(e)?this.userAction.getState()===C.Halted&&0===this.runningRequests.size&&this.endAction():(this.isValid||(this.isValid=!0),this.scheduleFollowUp())}),this.stateSub=this.userAction.filter(e=>[C.Ended,C.Cancelled].includes(e)).first().subscribe(()=>this.cleanup()),this.scheduleFollowUp()}scheduleFollowUp(){this.clearTimer(this.followUpTid),this.followUpTid=setTimeout(()=>{this.userAction.getState()===C.Started&&this.runningRequests.size>0?this.haltAction():this.isValid?this.endAction():this.cancelAction()},100)}haltAction(){this.userAction.getState()===C.Started&&(this.userAction.halt(),this.startHaltTimeout())}startHaltTimeout(){var e,t,i;this.clearTimer(this.haltTid),this.haltTid=(e=this.haltTid,t=()=>{this.userAction.getState()===C.Halted&&this.endAction()},i=1e4,e&&clearTimeout(e),setTimeout(()=>{t()},i))}endAction(){this.userAction.end(),this.cleanup()}cancelAction(){this.userAction.cancel(),this.cleanup()}cleanup(){var e,t;this.clearTimer(this.followUpTid),this.clearTimer(this.haltTid),null===(e=this.allMonitorsSub)||void 0===e||e.unsubscribe(),null===(t=this.stateSub)||void 0===t||t.unsubscribe(),this.allMonitorsSub=void 0,this.stateSub=void 0,this.runningRequests.clear()}clearTimer(e){e&&clearTimeout(e)}}function Vt(e){const{api:t,config:i}=e;function n(e){new Kt(e).attach()}return{processUserEvent:function(e){var r,s;const o=function(e,t){const i=function(e){const t=e.split("data-")[1],i=null==t?void 0:t.replace(/-(.)/g,(e,t)=>t.toUpperCase());return null==i?void 0:i.replace(/-/g,"")}(t),n=e.dataset;for(const e in n)if(e===i)return n[e];return}(e.target,null!==(s=null===(r=i.userActionsInstrumentation)||void 0===r?void 0:r.dataAttributeName)&&void 0!==s?s:"faroUserActionName");if(!o)return;const a=t.startUserAction(o,{},{triggerName:e.type});a&&n(a)},processUserActionStarted:n}}class Wt extends gt{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-user-action",this.version=te}initialize(){const{processUserEvent:e,processUserActionStarted:t}=Vt(R);window.addEventListener("pointerdown",e),window.addEventListener("keydown",t=>{[" ","Enter"].includes(t.key)&&e(t)}),this._userActionSub=M.subscribe(({type:e,userAction:i})=>{"user_action_start"===e&&t(i)})}destroy(){var e;null===(e=this._userActionSub)||void 0===e||e.unsubscribe()}}const Gt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function Jt(e){let t,i,n,r,s=[];if((e=>o(e,"ErrorEvent"))(e)&&e.error)t=e.error.message,i=e.error.name,s=Ae(e.error);else if((n=(e=>o(e,"DOMError"))(e))||(e=>o(e,"DOMException"))(e)){const{name:r,message:s}=e;i=null!=r?r:n?"DOMError":"DOMException",t=s?`${i}: ${s}`:i}else v(e)?(t=e.message,s=Ae(e)):(p(e)||(r=(e=>g&&a(e,Event))(e)))&&(i=r?e.constructor.name:void 0,t=`Non-Error exception captured with keys: ${Object.keys(e)}`);return[t,i,s]}function Xt(e){const[t,i,n,r,s]=e;let o,a,l=[];const u=c(t),d=Oe(i,"?",n,r);return s||!u?([o,a,l]=Jt(null!=s?s:t),0===l.length&&(l=[d])):u&&([o,a]=function(e){var t,i;const n=e.match(Gt),r=null!==(t=null==n?void 0:n[1])&&void 0!==t?t:z;return[null!==(i=null==n?void 0:n[2])&&void 0!==i?i:e,r]}(t),l=[d]),{value:o,type:a,stackFrames:l}}function Qt(e,t){return v(e[0])?Xt(e):{value:t(e)}}function Yt(e){window.addEventListener("unhandledrejection",t=>{var i,n;let r,s,o=t;o.reason?o=t.reason:(null===(i=t.detail)||void 0===i?void 0:i.reason)&&(o=null===(n=t.detail)||void 0===n?void 0:n.reason);let a=[];(e=>!p(e)&&!f(e))(o)?(r=`Non-Error promise rejection captured with value: ${String(o)}`,s="UnhandledRejection"):[r,s,a]=Jt(o),r&&e.pushError(new Error(r),{type:s,stackFrames:a})})}class Zt extends gt{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-errors",this.version=te}initialize(){this.logDebug("Initializing"),function(e){const t=window.onerror;window.onerror=(...i)=>{try{const{value:t,type:n,stackFrames:r}=Xt(i),s=i[4];if(t){const i={type:n,stackFrames:r};null!=s&&(i.originalError=s),e.pushError(new Error(t),i)}}finally{null==t||t.apply(window,i)}}}(this.api),Yt(this.api)}}class ei{t;o=0;i=[];u(e){if(e.hadRecentInput)return;const t=this.i[0],i=this.i.at(-1);this.o&&t&&i&&e.startTime-i.startTime<1e3&&e.startTime-t.startTime<5e3?(this.o+=e.value,this.i.push(e)):(this.o=e.value,this.i=[e]),this.t?.(e)}}const ti=()=>{const e=performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},ii=e=>{if("loading"===document.readyState)return"loading";{const t=ti();if(t){if(e<t.domInteractive)return"loading";if(0===t.domContentLoadedEventStart||e<t.domContentLoadedEventStart)return"dom-interactive";if(0===t.domComplete||e<t.domComplete)return"dom-content-loaded"}}return"complete"},ni=e=>{const t=e.nodeName;return 1===e.nodeType?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},ri=e=>{let t="";try{for(;9!==e?.nodeType;){const i=e,n=i.id?"#"+i.id:[ni(i),...Array.from(i.classList).sort()].join(".");if(t.length+n.length>99)return t||n;if(t=t?n+">"+t:n,i.id)break;e=i.parentNode}}catch{}return t},si=new WeakMap;function oi(e,t){return si.get(e)||si.set(e,new t),si.get(e)}let ai=-1;const li=()=>ai,ci=e=>{addEventListener("pageshow",t=>{t.persisted&&(ai=t.timeStamp,e(t))},!0)},ui=(e,t,i,n)=>{let r,s;return o=>{t.value>=0&&(o||n)&&(s=t.value-(r??0),(s||void 0===r)&&(r=t.value,t.delta=s,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,i),e(t)))}},di=e=>{requestAnimationFrame(()=>requestAnimationFrame(()=>e()))},pi=()=>{const e=ti();return e?.activationStart??0},fi=(e,t=-1)=>{const i=ti();let n="navigate";return li()>=0?n="back-forward-cache":i&&(document.prerendering||pi()>0?n="prerender":document.wasDiscarded?n="restore":i.type&&(n=i.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:n}},hi=(e,t,i={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const n=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return n.observe({type:e,buffered:!0,...i}),n}}catch{}},gi=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let mi=-1;const vi=new Set,bi=()=>"hidden"!==document.visibilityState||document.prerendering?1/0:0,wi=e=>{if("hidden"===document.visibilityState){if("visibilitychange"===e.type)for(const e of vi)e();isFinite(mi)||(mi="visibilitychange"===e.type?e.timeStamp:0,removeEventListener("prerenderingchange",wi,!0))}},yi=()=>{if(mi<0){const e=pi(),t=document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(t=>"hidden"===t.name&&t.startTime>e)[0]?.startTime;mi=t??bi(),addEventListener("visibilitychange",wi,!0),addEventListener("prerenderingchange",wi,!0),ci(()=>{setTimeout(()=>{mi=bi()})})}return{get firstHiddenTime(){return mi},onHidden(e){vi.add(e)}}},Si=e=>{document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},Ti=[1800,3e3],Ei=(e,t={})=>{Si(()=>{const i=yi();let n,r=fi("FCP");const s=hi("paint",e=>{for(const t of e)"first-contentful-paint"===t.name&&(s.disconnect(),t.startTime<i.firstHiddenTime&&(r.value=Math.max(t.startTime-pi(),0),r.entries.push(t),n(!0)))});s&&(n=ui(e,r,Ti,t.reportAllChanges),ci(i=>{r=fi("FCP"),n=ui(e,r,Ti,t.reportAllChanges),di(()=>{r.value=performance.now()-i.timeStamp,n(!0)})}))})},xi=[.1,.25],ki=e=>e.find(e=>1===e.node?.nodeType)||e[0];let Oi=0,Ii=1/0,Ai=0;const Ci=e=>{for(const t of e)t.interactionId&&(Ii=Math.min(Ii,t.interactionId),Ai=Math.max(Ai,t.interactionId),Oi=Ai?(Ai-Ii)/7+1:0)};let Pi;const _i=()=>Pi?Oi:performance.interactionCount??0;let Ri=0;class Ni{l=[];h=new Map;m;p;v(){Ri=_i(),this.l.length=0,this.h.clear()}M(){const e=Math.min(this.l.length-1,Math.floor((_i()-Ri)/50));return this.l[e]}u(e){if(this.m?.(e),!e.interactionId&&"first-input"!==e.entryType)return;const t=this.l.at(-1);let i=this.h.get(e.interactionId);if(i||this.l.length<10||e.duration>t.T){if(i?e.duration>i.T?(i.entries=[e],i.T=e.duration):e.duration===i.T&&e.startTime===i.entries[0].startTime&&i.entries.push(e):(i={id:e.interactionId,entries:[e],T:e.duration},this.h.set(i.id,i),this.l.push(i)),this.l.sort((e,t)=>t.T-e.T),this.l.length>10){const e=this.l.splice(10);for(const t of e)this.h.delete(t.id)}this.p?.(i)}}}const Li=e=>{const t=globalThis.requestIdleCallback||setTimeout;"hidden"===document.visibilityState?e():(e=gi(e),addEventListener("visibilitychange",e,{once:!0,capture:!0}),t(()=>{e(),removeEventListener("visibilitychange",e,{capture:!0})}))},ji=[200,500],Ui=(e,t={})=>{const i=oi(t=Object.assign({},t),Ni);let n=[],r=[],s=0;const o=new WeakMap,a=new WeakMap;let l=!1;const c=()=>{l||(Li(u),l=!0)},u=()=>{const e=i.l.map(e=>o.get(e.entries[0])),t=r.length-50;r=r.filter((i,n)=>n>=t||e.includes(i));const a=new Set;for(const e of r){const t=d(e.startTime,e.processingEnd);for(const e of t)a.add(e)}const c=n.length-1-50;n=n.filter((e,t)=>e.startTime>s&&t>c||a.has(e)),l=!1};i.m=e=>{const t=e.startTime+e.duration;let i;s=Math.max(s,e.processingEnd);for(let n=r.length-1;n>=0;n--){const s=r[n];if(Math.abs(t-s.renderTime)<=8){i=s,i.startTime=Math.min(e.startTime,i.startTime),i.processingStart=Math.min(e.processingStart,i.processingStart),i.processingEnd=Math.max(e.processingEnd,i.processingEnd),i.entries.push(e);break}}i||(i={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:t,entries:[e]},r.push(i)),(e.interactionId||"first-input"===e.entryType)&&o.set(e,i),c()},i.p=e=>{if(!a.get(e)){const i=e.entries[0].target;if(i){const n=t.generateTarget?.(i)??ri(i);a.set(e,n)}}};const d=(e,t)=>{const i=[];for(const r of n)if(!(r.startTime+r.duration<e)){if(r.startTime>t)break;i.push(r)}return i},p=e=>{const t=e.entries[0],n=o.get(t),r=t.processingStart,s=Math.max(t.startTime+t.duration,r),l=Math.min(n.processingEnd,s),c=n.entries.sort((e,t)=>e.processingStart-t.processingStart),u=d(t.startTime,l),p=i.h.get(t.interactionId),f={interactionTarget:a.get(p),interactionType:t.name.startsWith("key")?"keyboard":"pointer",interactionTime:t.startTime,nextPaintTime:s,processedEventEntries:c,longAnimationFrameEntries:u,inputDelay:r-t.startTime,processingDuration:l-r,presentationDelay:s-l,loadState:ii(t.startTime),longestScript:void 0,totalScriptDuration:void 0,totalStyleAndLayoutDuration:void 0,totalPaintDuration:void 0,totalUnattributedDuration:void 0};return(e=>{if(!e.longAnimationFrameEntries?.length)return;const t=e.interactionTime,i=e.inputDelay,n=e.processingDuration;let r,s,o=0,a=0,l=0,c=0;for(const l of e.longAnimationFrameEntries){a=a+l.startTime+l.duration-l.styleAndLayoutStart;for(const e of l.scripts){const l=e.startTime+e.duration;if(l<t)continue;const u=l-Math.max(t,e.startTime),d=e.duration?u/e.duration*e.forcedStyleAndLayoutDuration:0;o+=u-d,a+=d,u>c&&(s=e.startTime<t+i?"input-delay":e.startTime>=t+i+n?"presentation-delay":"processing-duration",r=e,c=u)}}const u=e.longAnimationFrameEntries.at(-1),d=u?u.startTime+u.duration:0;d>=t+i+n&&(l=e.nextPaintTime-d),r&&s&&(e.longestScript={entry:r,subpart:s,intersectingDuration:c}),e.totalScriptDuration=o,e.totalStyleAndLayoutDuration=a,e.totalPaintDuration=l,e.totalUnattributedDuration=e.nextPaintTime-t-o-a-l})(f),Object.assign(e,{attribution:f})};hi("long-animation-frame",e=>{n=n.concat(e),c()}),((e,t={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;const i=yi();Si(()=>{"interactionCount"in performance||Pi||(Pi=hi("event",Ci,{type:"event",buffered:!0,durationThreshold:0}));let n,r=fi("INP");const s=oi(t,Ni),o=e=>{Li(()=>{for(const t of e)s.u(t);const t=s.M();t&&t.T!==r.value&&(r.value=t.T,r.entries=t.entries,n())})},a=hi("event",o,{durationThreshold:t.durationThreshold??40});n=ui(e,r,ji,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),i.onHidden(()=>{o(a.takeRecords()),n(!0)}),ci(()=>{s.v(),r=fi("INP"),n=ui(e,r,ji,t.reportAllChanges)}))})})(t=>{const i=p(t);e(i)},t)};class Hi{m;u(e){this.m?.(e)}}const Mi=[2500,4e3],Di=[800,1800],zi=e=>{document.prerendering?Si(()=>zi(e)):"complete"!==document.readyState?addEventListener("load",()=>zi(e),!0):setTimeout(e)},qi="load_state",Bi="time_to_first_byte";class Fi{constructor(e,t){this.corePushMeasurement=e,this.webVitalConfig=t}initialize(){this.measureCLS(),this.measureFCP(),this.measureINP(),this.measureLCP(),this.measureTTFB()}measureCLS(){var e;((e,t={})=>{const i=oi(t=Object.assign({},t),ei),n=new WeakMap;i.t=e=>{if(e?.sources?.length){const i=ki(e.sources),r=i?.node;if(r){const e=t.generateTarget?.(r)??ri(r);n.set(i,e)}}},((e,t={})=>{const i=yi();Ei(gi(()=>{let n,r=fi("CLS",0);const s=oi(t,ei),o=e=>{for(const t of e)s.u(t);s.o>r.value&&(r.value=s.o,r.entries=s.i,n())},a=hi("layout-shift",o);a&&(n=ui(e,r,xi,t.reportAllChanges),i.onHidden(()=>{o(a.takeRecords()),n(!0)}),ci(()=>{s.o=0,r=fi("CLS",0),n=ui(e,r,xi,t.reportAllChanges),di(()=>n())}),setTimeout(n))}))})(t=>{const i=(e=>{let t={};if(e.entries.length){const i=e.entries.reduce((e,t)=>e.value>t.value?e:t);if(i?.sources?.length){const e=ki(i.sources);e&&(t={largestShiftTarget:n.get(e),largestShiftTime:i.startTime,largestShiftValue:i.value,largestShiftSource:e,largestShiftEntry:i,loadState:ii(i.startTime)})}}return Object.assign(e,{attribution:t})})(t);e(i)},t)})(e=>{const{loadState:t,largestShiftValue:i,largestShiftTime:n,largestShiftTarget:r}=e.attribution,s=this.buildInitialValues(e);this.addIfPresent(s,"largest_shift_value",i),this.addIfPresent(s,"largest_shift_time",n);const o=this.buildInitialContext(e);this.addIfPresent(o,qi,t),this.addIfPresent(o,"largest_shift_target",r),this.pushMeasurement(s,o)},{reportAllChanges:null===(e=this.webVitalConfig)||void 0===e?void 0:e.reportAllChanges})}measureFCP(){var e;((e,t={})=>{Ei(t=>{const i=(e=>{let t={timeToFirstByte:0,firstByteToFCP:e.value,loadState:ii(li())};if(e.entries.length){const i=ti(),n=e.entries.at(-1);if(i){const r=i.activationStart||0,s=Math.max(0,i.responseStart-r);t={timeToFirstByte:s,firstByteToFCP:e.value-s,loadState:ii(e.entries[0].startTime),navigationEntry:i,fcpEntry:n}}}return Object.assign(e,{attribution:t})})(t);e(i)},t)})(e=>{const{firstByteToFCP:t,timeToFirstByte:i,loadState:n}=e.attribution,r=this.buildInitialValues(e);this.addIfPresent(r,"first_byte_to_fcp",t),this.addIfPresent(r,Bi,i);const s=this.buildInitialContext(e);this.addIfPresent(s,qi,n),this.pushMeasurement(r,s)},{reportAllChanges:null===(e=this.webVitalConfig)||void 0===e?void 0:e.reportAllChanges})}measureINP(){var e;Ui(e=>{const{interactionTime:t,presentationDelay:i,inputDelay:n,processingDuration:r,nextPaintTime:s,loadState:o,interactionTarget:a,interactionType:l}=e.attribution,c=this.buildInitialValues(e);this.addIfPresent(c,"interaction_time",t),this.addIfPresent(c,"presentation_delay",i),this.addIfPresent(c,"input_delay",n),this.addIfPresent(c,"processing_duration",r),this.addIfPresent(c,"next_paint_time",s);const u=this.buildInitialContext(e);this.addIfPresent(u,qi,o),this.addIfPresent(u,"interaction_target",a),this.addIfPresent(u,"interaction_type",l),this.pushMeasurement(c,u)},{reportAllChanges:null===(e=this.webVitalConfig)||void 0===e?void 0:e.reportAllChanges})}measureLCP(){var e;((e,t={})=>{const i=oi(t=Object.assign({},t),Hi),n=new WeakMap;i.m=e=>{const i=e.element;if(i){const r=t.generateTarget?.(i)??ri(i);n.set(e,r)}},((e,t={})=>{Si(()=>{const i=yi();let n,r=fi("LCP");const s=oi(t,Hi),o=e=>{t.reportAllChanges||(e=e.slice(-1));for(const t of e)s.u(t),t.startTime<i.firstHiddenTime&&(r.value=Math.max(t.startTime-pi(),0),r.entries=[t],n())},a=hi("largest-contentful-paint",o);if(a){n=ui(e,r,Mi,t.reportAllChanges);const i=gi(()=>{o(a.takeRecords()),a.disconnect(),n(!0)}),s=e=>{e.isTrusted&&(Li(i),removeEventListener(e.type,s,{capture:!0}))};for(const e of["keydown","click","visibilitychange"])addEventListener(e,s,{capture:!0});ci(i=>{r=fi("LCP"),n=ui(e,r,Mi,t.reportAllChanges),di(()=>{r.value=performance.now()-i.timeStamp,n(!0)})})}})})(t=>{const i=(e=>{let t={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:e.value};if(e.entries.length){const i=ti();if(i){const r=i.activationStart||0,s=e.entries.at(-1),o=s.url&&performance.getEntriesByType("resource").filter(e=>e.name===s.url)[0],a=Math.max(0,i.responseStart-r),l=Math.max(a,o?(o.requestStart||o.startTime)-r:0),c=Math.min(e.value,Math.max(l,o?o.responseEnd-r:0));t={target:n.get(s),timeToFirstByte:a,resourceLoadDelay:l-a,resourceLoadDuration:c-l,elementRenderDelay:e.value-c,navigationEntry:i,lcpEntry:s},s.url&&(t.url=s.url),o&&(t.lcpResourceEntry=o)}}return Object.assign(e,{attribution:t})})(t);e(i)},t)})(e=>{const{elementRenderDelay:t,resourceLoadDelay:i,resourceLoadDuration:n,timeToFirstByte:r,target:s}=e.attribution,o=this.buildInitialValues(e);this.addIfPresent(o,"element_render_delay",t),this.addIfPresent(o,"resource_load_delay",i),this.addIfPresent(o,"resource_load_duration",n),this.addIfPresent(o,Bi,r);const a=this.buildInitialContext(e);this.addIfPresent(a,"element",s),this.pushMeasurement(o,a)},{reportAllChanges:null===(e=this.webVitalConfig)||void 0===e?void 0:e.reportAllChanges})}measureTTFB(){var e;((e,t={})=>{((e,t={})=>{let i=fi("TTFB"),n=ui(e,i,Di,t.reportAllChanges);zi(()=>{const r=ti();r&&(i.value=Math.max(r.responseStart-pi(),0),i.entries=[r],n(!0),ci(()=>{i=fi("TTFB",0),n=ui(e,i,Di,t.reportAllChanges),n(!0)}))})})(t=>{const i=(e=>{let t={waitingDuration:0,cacheDuration:0,dnsDuration:0,connectionDuration:0,requestDuration:0};if(e.entries.length){const i=e.entries[0],n=i.activationStart||0,r=Math.max((i.workerStart||i.fetchStart)-n,0),s=Math.max(i.domainLookupStart-n,0),o=Math.max(i.connectStart-n,0),a=Math.max(i.connectEnd-n,0);t={waitingDuration:r,cacheDuration:s-r,dnsDuration:o-s,connectionDuration:a-o,requestDuration:e.value-a,navigationEntry:i}}return Object.assign(e,{attribution:t})})(t);e(i)},t)})(e=>{const{dnsDuration:t,connectionDuration:i,requestDuration:n,waitingDuration:r,cacheDuration:s}=e.attribution,o=this.buildInitialValues(e);this.addIfPresent(o,"dns_duration",t),this.addIfPresent(o,"connection_duration",i),this.addIfPresent(o,"request_duration",n),this.addIfPresent(o,"waiting_duration",r),this.addIfPresent(o,"cache_duration",s);const a=this.buildInitialContext(e);this.pushMeasurement(o,a)},{reportAllChanges:null===(e=this.webVitalConfig)||void 0===e?void 0:e.reportAllChanges})}buildInitialValues(e){const t=e.name.toLowerCase();return{[t]:e.value,delta:e.delta}}buildInitialContext(e){var t;const i=null!==(t=Ge(Ct,Ke))&&void 0!==t?t:je;return{id:e.id,rating:e.rating,navigation_type:e.navigationType,navigation_entry_id:i}}pushMeasurement(e,t){this.corePushMeasurement({type:"web-vitals",values:e},{context:t})}addIfPresent(e,t,i){i&&(e[t]=i)}}class $i extends gt{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-web-vitals",this.version=te}initialize(){this.logDebug("Initializing");new Fi(this.api.pushMeasurement,this.config.webVitalsInstrumentation).initialize()}}class Ki extends gt{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-session",this.version=te}sendSessionStartEvent(e){var t,i;const n=e.session;if(n&&n.id!==(null===(t=this.notifiedSession)||void 0===t?void 0:t.id)){if(this.notifiedSession&&this.notifiedSession.id===(null===(i=n.attributes)||void 0===i?void 0:i.previousSession))return this.api.pushEvent("session_extend",{},void 0,{skipDedupe:!0}),void(this.notifiedSession=n);this.notifiedSession=n,this.api.pushEvent(et,{},void 0,{skipDedupe:!0})}}createInitialSession(e,t){var i,n,r,s,o,a;let l,c,u=e.fetchUserSession();if(t.persistent&&t.maxSessionPersistenceTime&&u){const e=S();u.lastActivity<e-t.maxSessionPersistenceTime&&(ct.removeUserSession(),u=null)}if(st(u)){const e=null==u?void 0:u.sessionId;c=rt({sessionId:e,isSampled:u.isSampled||!1,started:null==u?void 0:u.started});const r=null==u?void 0:u.sessionMeta,s=Object.assign(Object.assign({},null===(i=t.session)||void 0===i?void 0:i.overrides),null==r?void 0:r.overrides);c.sessionMeta=Object.assign(Object.assign({},t.session),{id:e,attributes:Object.assign(Object.assign(Object.assign({},null===(n=t.session)||void 0===n?void 0:n.attributes),null==r?void 0:r.attributes),{isSampled:c.isSampled.toString()}),overrides:s}),l=tt}else{const e=null!==(s=null===(r=t.session)||void 0===r?void 0:r.id)&&void 0!==s?s:function(e){var t,i,n,r;return{id:null!==(r=null===(n=null===(i=null===(t=R.config)||void 0===t?void 0:t.sessionTracking)||void 0===i?void 0:i.generateSessionId)||void 0===n?void 0:n.call(i))&&void 0!==r?r:j(),attributes:e}}().id;c=rt({sessionId:e,isSampled:nt()});const i=null===(o=t.session)||void 0===o?void 0:o.overrides;c.sessionMeta=Object.assign({id:e,attributes:Object.assign({isSampled:c.isSampled.toString()},null===(a=t.session)||void 0===a?void 0:a.attributes)},i?{overrides:i}:{}),l=et}return{initialSession:c,lifecycleType:l}}registerBeforeSendHook(e){var t;const{updateSession:i}=new e;null===(t=this.transports)||void 0===t||t.addBeforeSendHooks(e=>{var t,n,r;i();const s=null===(t=e.meta.session)||void 0===t?void 0:t.attributes;if(s&&"true"===(null==s?void 0:s.isSampled)){let t=JSON.parse(JSON.stringify(e));const i=null===(n=t.meta.session)||void 0===n?void 0:n.attributes;return null==i||delete i.isSampled,0===Object.keys(null!=i?i:{}).length&&(null===(r=t.meta.session)||void 0===r||delete r.attributes),t}return null})}initialize(){this.logDebug("init session instrumentation");const e=this.config.sessionTracking;if(null==e?void 0:e.enabled){const t=dt(e);this.registerBeforeSendHook(t);const{initialSession:i,lifecycleType:n}=this.createInitialSession(t,e);t.storeUserSession(i);const r=i.sessionMeta;this.notifiedSession=r,this.api.setSession(r),n===et&&this.api.pushEvent(et,{},void 0,{skipDedupe:!0}),n===tt&&this.api.pushEvent(tt,{},void 0,{skipDedupe:!0})}this.metas.addListener(this.sendSessionStartEvent.bind(this))}}class Vi extends gt{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-view",this.version=te}sendViewChangedEvent(e){var t,i,n,r;const s=e.view;s&&s.name!==(null===(t=this.notifiedView)||void 0===t?void 0:t.name)&&(this.api.pushEvent("view_changed",{fromView:null!==(n=null===(i=this.notifiedView)||void 0===i?void 0:i.name)&&void 0!==n?n:je,toView:null!==(r=s.name)&&void 0!==r?r:je},void 0,{skipDedupe:!0}),this.notifiedView=s)}initialize(){this.metas.addListener(this.sendViewChangedEvent.bind(this))}}class Wi extends k{constructor(e,t){var i,n,r,s;super(),this._tracking=!1,this.eventsObservable=e,this._options={inactivityMs:null!==(i=null==t?void 0:t.inactivityMs)&&void 0!==i?i:100,drainTimeoutMs:null!==(n=null==t?void 0:t.drainTimeoutMs)&&void 0!==n?n:1e4,isOperationStart:null!==(r=null==t?void 0:t.isOperationStart)&&void 0!==r?r:()=>{},isOperationEnd:null!==(s=null==t?void 0:t.isOperationEnd)&&void 0!==s?s:()=>{}},this._initialize()}_initialize(){this.eventsObservable.filter(()=>this._tracking).subscribe(e=>{var t,i,n;this._lastEventTime=Date.now(),null===(t=this._currentEvents)||void 0===t||t.push(e);const r=this._options.isOperationStart(e);r&&(null===(i=this._activeOperations)||void 0===i||i.set(r,!0));const s=this._options.isOperationEnd(e);s&&(null===(n=this._activeOperations)||void 0===n||n.delete(s)),this._scheduleInactivityCheck()})}startTracking(){this._tracking||(this._tracking=!0,this._startTime=Date.now(),this._lastEventTime=Date.now(),this.notify({message:"tracking-started"}),this._currentEvents=[],this._activeOperations=new Map,this._scheduleInactivityCheck())}stopTracking(){this._tracking=!1,this._clearTimer(this._inactivityTid),this._clearTimer(this._drainTid);let e=0;e=this.hasActiveOperations()?Date.now()-this._startTime:this._lastEventTime?this._lastEventTime-this._startTime:0,this.notify({message:"tracking-ended",events:this._currentEvents,duration:e})}_scheduleInactivityCheck(){this._inactivityTid=Gi(this._inactivityTid,()=>{this.hasActiveOperations()?this._startDrainTimeout():this.stopTracking()},this._options.inactivityMs)}_startDrainTimeout(){this._drainTid=Gi(this._drainTid,()=>{this.stopTracking()},this._options.drainTimeoutMs)}hasActiveOperations(){return!!this._activeOperations&&this._activeOperations.size>0}_clearTimer(e){e&&clearTimeout(e)}}function Gi(e,t,i){return e&&clearTimeout(e),e=setTimeout(()=>{t()},i)}let Ji;const Xi=new Set,Qi=new Map;let Yi,Zi,en,tn,nn,rn,sn,on,an=!1;class ln extends gt{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-navigation",this.version=te}initialize(){const e=At(),t=yt(),i=function(){function e(e,t){const i=null!=t?t:location.href;i!==Zi&&(Yi.notify({type:"url-change",from:Zi,to:i,trigger:e}),Zi=i)}if(Yi||(Yi=new k,Zi=location.href),!an)if("navigation"in window&&"NavigateEvent"in window){sn=t=>{try{const i=null==t?void 0:t.destination;(null==i?void 0:i.sameDocument)&&"string"==typeof i.url&&e("navigate",i.url)}catch(e){}},window.navigation.addEventListener("navigate",sn);const t=window.NavigateEvent;t&&t.prototype&&"function"==typeof t.prototype.intercept&&(on||(on=t.prototype.intercept),t.prototype.intercept=function(t){try{const t=!!(null==this?void 0:this.canIntercept),i=null==this?void 0:this.destination;t&&i&&!1===i.sameDocument&&"string"==typeof i.url&&e("navigate-intercept",i.url)}catch(e){}return on.call(this,t)}),an=!0}else en||(en=window.history.pushState),window.history.pushState=function(...t){const i=en.apply(window.history,t);return e("pushState"),i},tn||(tn=window.history.replaceState),window.history.replaceState=function(...t){const i=tn.apply(window.history,t);return e("replaceState"),i},nn=()=>e("popstate"),rn=()=>e("hashchange"),window.addEventListener("popstate",nn),window.addEventListener("hashchange",rn),an=!0;return Yi}(),n=(r=["pointerdown","keydown"],Ji||(Ji=new k),r.forEach(e=>{if(!Xi.has(e)){const t=()=>{Ji.notify({type:"interaction",name:e})};window.addEventListener(e,t),Xi.add(e),Qi.set(e,t)}}),Ji);var r;const s=new Wi((new k).merge(e,t,i),{inactivityMs:100,drainTimeoutMs:1e4,isOperationStart:e=>function(e){return e.type===mt}(e)?e.request.requestId:void 0,isOperationEnd:e=>function(e){return e.type===vt}(e)?e.request.requestId:void 0});s.filter(e=>"tracking-ended"===e.message).subscribe(e=>{var t,i,n;if((null===(t=e.events)||void 0===t?void 0:t.some(e=>"url-change"===e.type))&&(null===(i=e.events)||void 0===i?void 0:i.some(e=>"dom-mutation"===e.type))){const t=null===(n=e.events)||void 0===n?void 0:n.find(e=>"url-change"===e.type);R.api.pushEvent("faro.navigation",{fromUrl:null==t?void 0:t.from,toUrl:null==t?void 0:t.to,sameDocument:String(!0),duration:e.duration})}}),n.subscribe(()=>{s.startTracking()})}}class cn extends gt{constructor(){super(),this.name="@grafana/faro-web-sdk:instrumentation-csp",this.version=te}initialize(){document.addEventListener("securitypolicyviolation",this.securitypolicyviolationHandler.bind(this))}destroy(){document.removeEventListener("securitypolicyviolation",this.securitypolicyviolationHandler)}securitypolicyviolationHandler(e){this.api.pushEvent("securitypolicyviolation",y(e))}}class un extends gt{constructor(){super(...arguments),this.name="@grafana/faro-web-sdk:instrumentation-console",this.version=te,this.errorSerializer=K}initialize(){var e;const t=this.config.consoleInstrumentation,i=(null==t?void 0:t.serializeErrors)||!!(null==t?void 0:t.errorSerializer);this.errorSerializer=i?null!==(e=null==t?void 0:t.errorSerializer)&&void 0!==e?e:q:K,$.HT.filter(e=>{var i;return!(null!==(i=null==t?void 0:t.disabledLevels)&&void 0!==i?i:un.defaultDisabledLevels).includes(e)}).forEach(e=>{console[e]=(...i)=>{try{if(e!==$.$b.ERROR||(null==t?void 0:t.consoleErrorAsLog))if(e===$.$b.ERROR&&(null==t?void 0:t.consoleErrorAsLog)){const{value:t,type:n,stackFrames:r}=Qt(i,this.errorSerializer);this.api.pushLog(t?[un.consoleErrorPrefix+t]:i,{level:e,context:{value:null!=t?t:"",type:null!=n?n:"",stackFrames:(null==r?void 0:r.length)?q(r):""}})}else this.api.pushLog(i,{level:e});else{const{value:e,type:t,stackFrames:n}=Qt(i,this.errorSerializer);if(e&&!t&&!n)return void this.api.pushError(new Error(un.consoleErrorPrefix+e));this.api.pushError(new Error(un.consoleErrorPrefix+e),{type:t,stackFrames:n})}}catch(e){this.logError(e)}finally{this.unpatchedConsole[e](...i)}}})}}function dn(e={}){const t=[new Wt,new Zt,new $i,new Ki,new Vi,new ln];return!1!==e.enablePerformanceInstrumentation&&t.unshift(new zt),!1!==e.enableContentSecurityPolicyInstrumentation&&t.push(new cn),!1!==e.captureConsole&&t.push(new un),t}un.defaultDisabledLevels=[$.$b.DEBUG,$.$b.TRACE,$.$b.LOG],un.consoleErrorPrefix="console.error: ";var pn=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i};function fn(e,{experimental:t}){var i;const n=null!==(i=null==t?void 0:t.trackNavigation)&&void 0!==i&&i;return e.filter(e=>!("@grafana/faro-web-sdk:instrumentation-navigation"===e.name&&!n))}function hn(e){var t,i;const{page:n,generatePageId:r}=null!==(t=null==e?void 0:e.pageTracking)&&void 0!==t?t:{},s=[Ue,ze({generatePageId:r,initialPageMeta:n}),...null!==(i=e.metas)&&void 0!==i?i:[]];return p(null===window||void 0===window?void 0:window.k6)?[...s,He]:s}function gn({trackGeolocation:e,sessionTracking:t}){var i;const n={};return d(e)&&(n.geoLocationTrackingEnabled=e),b(n)?{}:{session:Object.assign(Object.assign({},null!==(i=null==t?void 0:t.session)&&void 0!==i?i:{}),{overrides:n})}}function mn(e){const t=function(e){var t,i,n,r,s;const o=[],a=Y(e.unpatchedConsole,e.internalLoggerLevel);e.transports?((e.url||e.apiKey)&&a.error('if "transports" is defined, "url" and "apiKey" should not be defined'),o.push(...e.transports)):e.url?o.push(new ht({url:e.url,apiKey:e.apiKey})):a.error('either "url" or "transports" must be defined');const{dedupe:l=!0,eventDomain:c=ue,globalObjectKey:u=le,instrumentations:d=dn(),internalLoggerLevel:p=X,isolate:f=!1,logArgsSerializer:h=K,metas:g=hn(e),paused:m=!1,preventGlobalExposure:v=!1,unpatchedConsole:b=Q,url:w,experimental:y}=e,S=pn(e,["dedupe","eventDomain","globalObjectKey","instrumentations","internalLoggerLevel","isolate","logArgsSerializer","metas","paused","preventGlobalExposure","unpatchedConsole","url","experimental"]),T=null!==(t=null==y?void 0:y.trackNavigation)&&void 0!==t&&t,E={dataAttributeName:null!==(n=null===(i=e.userActionsInstrumentation)||void 0===i?void 0:i.dataAttributeName)&&void 0!==n?n:Ne,excludeItem:null===(r=e.userActionsInstrumentation)||void 0===r?void 0:r.excludeItem};return Object.assign(Object.assign({},S),{batching:Object.assign(Object.assign({},ce),e.batching),dedupe:l,globalObjectKey:u,instrumentations:fn(d,e),internalLoggerLevel:p,isolate:f,logArgsSerializer:h,metas:g,parseStacktrace:Ce,paused:m,preventGlobalExposure:v,transports:o,unpatchedConsole:b,eventDomain:c,ignoreUrls:[...null!==(s=e.ignoreUrls)&&void 0!==s?s:[],...w?[w]:[],/\/collect(?:\/[\w]*)?$/],sessionTracking:Object.assign(Object.assign(Object.assign({},Re),e.sessionTracking),gn({trackGeolocation:e.trackGeolocation,sessionTracking:e.sessionTracking})),userActionsInstrumentation:E,experimental:{trackNavigation:T}})}(e);if(t)return ae(t)}var vn=i(8531),bn=i(4696);const wn=new Map([["dev",{environment:"dev",appName:"grafana-metricsdrilldown-app-dev",faroUrl:"https://faro-collector-ops-eu-south-0.grafana-ops.net/collect/8c57b32175ba39d35dfaccee7cd793c7"}],["ops",{environment:"ops",appName:"grafana-metricsdrilldown-app-ops",faroUrl:"https://faro-collector-ops-eu-south-0.grafana-ops.net/collect/d65ab91eb9c5e8c51b474d9313ba28f4"}],["prod",{environment:"prod",appName:"grafana-metricsdrilldown-app-prod",faroUrl:"https://faro-collector-ops-eu-south-0.grafana-ops.net/collect/0f4f1bbc97c9e2db4fa85ef75a559885"}]]);var yn=i(5176),Sn=i(8943);let Tn=null;const En=()=>Tn,xn=e=>Tn=e,kn=["ResizeObserver loop limit exceeded","ResizeObserver loop completed","Non-Error exception captured with keys","Failed sending payload to the receiver"],On=new Set(kn),In=e=>On.has(e);function An(){if(En())return;const e=function(){const e=(0,bn.u)();if(e&&wn.has(e))return wn.get(e)}();if(!e)return;const{environment:t,faroUrl:i,appName:n}=e,{apps:r,bootData:s}=vn.config,o=r[Sn.s].version,a=s.user.email;xn(mn({url:i,app:{name:n,release:o,version:yn.t,environment:t},user:{email:a},ignoreErrors:kn,instrumentations:[...dn({captureConsole:!1})],isolate:!0,beforeSend:e=>{var t,i;return(null!==(i=null===(t=e.meta.page)||void 0===t?void 0:t.url)&&void 0!==i?i:"").includes(Sn.G)?e:null}}))}}},m={};function v(e){var t=m[e];if(void 0!==t)return t.exports;var i=m[e]={id:e,loaded:!1,exports:{}};return g[e].call(i.exports,i,i.exports,v),i.loaded=!0,i.exports}v.m=g,v.amdO={},v.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return v.d(t,{a:t}),t},p=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,v.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var i=Object.create(null);v.r(i);var n={};d=d||[null,p({}),p([]),p(p)];for(var r=2&t&&e;("object"==typeof r||"function"==typeof r)&&!~d.indexOf(r);r=p(r))Object.getOwnPropertyNames(r).forEach(t=>n[t]=()=>e[t]);return n.default=()=>e,v.d(i,n),i},v.d=(e,t)=>{for(var i in t)v.o(t,i)&&!v.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},v.f={},v.e=e=>Promise.all(Object.keys(v.f).reduce((t,i)=>(v.f[i](e,t),t),[])),v.u=e=>e+".js?_cache="+{2:"7101916049f818d58037",14:"07f6f78ab45cabb01bf7",64:"bfff71b84c3b67cff0fb",70:"2d1e37c1233024806300",74:"6a6cf4493168a4c4b2a0",150:"a9eae9ab36b5aa3a2e33",156:"dcd383229c5404d776bf",190:"a6f6d81aca619dd3f85e",206:"130901d6a2dcaa8e3dfe",220:"f2309b411f0ae9855b9a",290:"c655a966d0d783478b54",327:"62ce92e00bf3f37cfb9f",341:"8f9cffe8b5fc06dedcdc",353:"00ac2f1a6a55baf37ac5",377:"23f21b55cd8009b046ec",494:"c08c93e5cce9bf750560",503:"201b25c5f9822f473e7d",509:"5219bd37cc1302880d7d",549:"79f2b0fd3610c8ad03b7",582:"a1556b2a2a05b8e0497f",591:"72d8c50f59d75a36ab7e",605:"596aa39d721e4859e1a5",614:"c8daf176bb4a9973ba24",644:"14d38f9a6e5a99fbf61f",660:"b143f478b19fd3cf5886",697:"d2ab3d5c44c5aa5add66",767:"b4f9d973b92b7eab01ca",782:"cbc8bcefc46d20d7f704",792:"79c48dbde1c722d712fa",851:"6cfdc72d68c2c3754b46",876:"1a7696652a5f03389ba7",944:"5da0375876db943a6756",980:"655996be379e3e595023"}[e],v.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),v.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),f={},h="grafana-metricsdrilldown-app:",v.l=(e,t,i,n)=>{if(f[e])f[e].push(t);else{var r,s;if(void 0!==i)for(var o=document.getElementsByTagName("script"),a=0;a<o.length;a++){var l=o[a];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==h+i){r=l;break}}r||(s=!0,(r=document.createElement("script")).charset="utf-8",v.nc&&r.setAttribute("nonce",v.nc),r.setAttribute("data-webpack",h+i),r.src=e,0!==r.src.indexOf(window.location.origin+"/")&&(r.crossOrigin="anonymous"),r.integrity=v.sriHashes[n],r.crossOrigin="anonymous"),f[e]=[t];var c=(t,i)=>{r.onerror=r.onload=null,clearTimeout(u);var n=f[e];if(delete f[e],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach(e=>e(i)),t)return t(i)},u=setTimeout(c.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=c.bind(null,r.onerror),r.onload=c.bind(null,r.onload),s&&document.head.appendChild(r)}},v.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},v.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),v.p="public/plugins/grafana-metricsdrilldown-app/",v.sriHashes={2:"sha256-HkcJZErouD3WL+1stzs18OPSMsSF4QWoOp955TmukbM=",14:"sha256-xP4SqO1X6qC9HXMMDr2hxNXpv0ci5FyEBSaohoBAQWY=",64:"sha256-+eS4ibapvl/wQIEzXmJ+plgMZyGFc61E0tfUHJLojSg=",70:"sha256-GaO4d6yeP+YB+9WyDAkUHHIJbSHxKfm7bwH09jrS8y8=",74:"sha256-SQr33/MDfoRAIyaGFvwvmFiatOFS+WCGRjvJlIrxRkk=",150:"sha256-9tz72qsU48mgerjaxGJNDp7uWJVhYs0SStgPNw9HDYM=",156:"sha256-Bo5PyLaQ8sgO6yPS4FhAlVlpOscfzI0pWdsqBDuIX20=",190:"sha256-12aRaPJrfy9ZI3DpnLCelye64bR7P1GdTfG6ANaqQPU=",206:"sha256-gyUOFb+pbvMAsycBxAf4skP8MwlrWjwB39sLAXevptY=",220:"sha256-duXi/YNmlUSXYMogjs+hFWHIlg1xeMxhY+/bIWhN17U=",290:"sha256-tE/RC2PUE2/DO9bo8SQsYsBgP4/ZK8EBhaI08gDgm3s=",327:"sha256-K+kGzqXTSt1SmcvkrsIUOGFoVUwmxIZO84r0AzdhWj8=",341:"sha256-s4GbMhRpxmQwojCT+aM3qGDneWHezQj2pZakPoFYSZo=",353:"sha256-MkI5qRIuIcYI1RkPnv4wr6CLe6N2y8AI0jLJY48CdsY=",377:"sha256-kJASE/v82yEHbWX8IvYlAmdmRD9GQvcJxXFK1/DI9Qo=",494:"sha256-0g8AceNKKf/qoqPgdmDpsjGAGz745WSGfBBo9rrxu7w=",503:"sha256-ic4QpZSNLDJPDkPFyjZX7zqHIVjblVoZZ+mtxL15G3Y=",509:"sha256-L2vesL2i6Z2cfOc+6VEUVSXCx4CQ4tV+MVsc06JAgm4=",549:"sha256-zQex0nYwO7K6coUcUY9hJPiv/a/m7WSAEoFkKgrZD0M=",582:"sha256-ma5aIvogv/1lzEb7gT15yy1a2RIrGjJw1lzDuM1cbX8=",591:"sha256-aFeKURcdDlRpmIAImf0xoFCaEkdixTyfviao544ElvY=",605:"sha256-O2XB4Wy1uVzJQFIUq0BjtJ1pXAJAfp9Tosse/6XK+Ek=",614:"sha256-q+uMNGpUGD6GZk15fK/7olCwzgCo1wSG48JCkbkeMh8=",644:"sha256-PSQxRXZiHRv2/UODxWqRoa3VK6GMjbSFZ5NkiBp/BvU=",660:"sha256-g6vlB8R7evXe2yFwTPWlRD8KU4t4elZAD8Nv4NKvi9M=",697:"sha256-qm318cH6+mW9IIRUnmJdaZAQ+KWSpnAxZoIq5EqcIwA=",767:"sha256-n7PgmQw9FZEgqDgNgUg8D55Ub9UoOW7M/p4+brJKQpM=",782:"sha256-u2AgvaWFDVYNwtP8iGU9CzxtYBVAS6393qRisjnFtv8=",792:"sha256-n9glSvUoslqv4tg53t94pHnbLrTU+AZ5rQm88Td1s2I=",851:"sha256-qfsXp3RcR72OvM5GoP2E4F+JJ4yYeBhaImAz9RyQqYw=",876:"sha256-CF4WCyKMUQ1b3Vg/29Y4tOR9PMVwY2LBcH66r1eX33U=",944:"sha256-yhcd2tTsl4eyyVcdVbjqYyqQOmjkJ2NhaVW+Azyq0Io=",980:"sha256-hZBLmPqKcZ77U0udmW/Es1zyFtjLhND/jL80SJV0rqY="},(()=>{v.b="undefined"!=typeof document&&document.baseURI||self.location.href;var e={231:0};v.f.j=(t,i)=>{var n=v.o(e,t)?e[t]:void 0;if(0!==n)if(n)i.push(n[2]);else{var r=new Promise((i,r)=>n=e[t]=[i,r]);i.push(n[2]=r);var s=v.p+v.u(t),o=new Error;v.l(s,i=>{if(v.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var r=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;o.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",o.name="ChunkLoadError",o.type=r,o.request=s,n[1](o)}},"chunk-"+t,t)}};var t=(t,i)=>{var n,r,[s,o,a]=i,l=0;if(s.some(t=>0!==e[t])){for(n in o)v.o(o,n)&&(v.m[n]=o[n]);if(a)a(v)}for(t&&t(i);l<s.length;l++)r=s[l],v.o(e,r)&&e[r]&&e[r][0](),e[r]=0},i=self.webpackChunkgrafana_metricsdrilldown_app=self.webpackChunkgrafana_metricsdrilldown_app||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var b={};return(()=>{"use strict";v.r(b),v.d(b,{plugin:()=>w});var e=v(1308),t=v.n(e);v.p=t()&&t().uri?t().uri.slice(0,t().uri.lastIndexOf("/")+1):"public/plugins/grafana-metricsdrilldown-app/";var i=v(7781),n=v(2007),r=v(5959),s=v.n(r);const o=(0,r.lazy)(()=>Promise.all([v.e(944),v.e(591),v.e(14),v.e(782),v.e(614),v.e(605),v.e(377)]).then(v.bind(v,2377)));const a=[{id:`${v(2533).id}/label-breakdown-component/v1`,title:"Label Breakdown",description:"A metrics label breakdown view from the Metrics Drilldown app.",component:e=>s().createElement(r.Suspense,{fallback:s().createElement("div",null,"Loading...")},s().createElement(o,e))}];var l=v(3781),c=v(3498),u=v(4440);function d(e,t=c.b.Drilldown){const i=(0,l.kY)([[l.I8.DatasourceId,e]]);return(0,l.Rk)(t,i)}const p="Browse metrics in Grafana Metrics Drilldown",f=[{title:"Open in Metrics Drilldown",description:p,targets:[i.PluginExtensionPoints.DataSourceConfigActions,i.PluginExtensionPoints.DataSourceConfigStatus],icon:"drilldown",category:"metrics-drilldown",path:(0,l.Rk)(c.b.Drilldown),configure:e=>{var t,i;if((null==e||null===(t=e.dataSource)||void 0===t?void 0:t.type)&&(null==e||null===(i=e.dataSource)||void 0===i?void 0:i.uid)&&(0,u.aQ)(e.dataSource))return{path:d(e.dataSource.uid),description:p}}}];var h=v(8705);function g(e,t,i,n,r,s,o){try{var a=e[s](o),l=a.value}catch(e){return void i(e)}a.done?t(l):Promise.resolve(l).then(n,r)}const m=(0,r.lazy)(()=>{return(e=function*(){const{initPluginTranslations:e}=yield Promise.all([v.e(591),v.e(503)]).then(v.bind(v,5503)),{loadResources:t}=yield Promise.all([v.e(591),v.e(14)]).then(v.bind(v,3014));yield e("grafana-scenes",[t]);const{wasmSupported:i}=yield Promise.all([v.e(944),v.e(290)]).then(v.bind(v,2290)),{default:n}=yield v.e(944).then(v.bind(v,6944));if(i())try{yield n()}catch(e){h.v.error(e,{message:"Error while initializing outlier detection"})}else h.v.warn("WASM not supported, outlier detection will not work");return Promise.all([v.e(944),v.e(591),v.e(14),v.e(782),v.e(614),v.e(792),v.e(605),v.e(509)]).then(v.bind(v,4509))},function(){var t=this,i=arguments;return new Promise(function(n,r){var s=e.apply(t,i);function o(e){g(s,n,r,o,a,"next",e)}function a(e){g(s,n,r,o,a,"throw",e)}o(void 0)})})();var e}),w=(new i.AppPlugin).setRootPage(e=>s().createElement(r.Suspense,{fallback:s().createElement(n.LoadingPlaceholder,{text:""})},s().createElement(m,e)));for(const e of[...l.Ge,...f])w.addLink(e);for(const e of a)w.exposeComponent(e)})(),b})());
//# sourceMappingURL=module.js.map